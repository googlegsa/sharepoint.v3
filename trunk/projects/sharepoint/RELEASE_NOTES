           Google Search Appliance Connector for SharePoint
                            Release Notes

This document contains the release notes for Google Search Appliance Connector for SharePoint.
The following sections describe the release in detail and provide information that supplements the main documentation.

Web Site: http://code.google.com/p/google-enterprise-connector-sharepoint/


Release 3.2.4, January 22, 2014
===============================

Introduction
------------
This is a maintenance release that improves quality without adding any
new functionality. Users of previous releases are encouraged to
upgrade. Users of previous releases should check the "Version
Compatibility" section below for instructions on how to use existing
data with this new release.

Summary of Changes
------------------
For a summary of the new features, see the Guide to Release 3.0:

http://www.google.com/support/enterprise/static/gsa/docs/admin/connector_30/sharepoint_guide/

Java SE 5.0 is no longer supported. Java 6 or later is required.

SharePoint 2003 and WSS 2.0 are no longer supported.

The Google Services for SharePoint (GSS) component has been renamed to
Connector Services for SharePoint in Google Search Appliance.
Some occurrences of the old name may still appear, but refer to the
same component.

Issues Fixed Since 3.2.2
------------------------
12584298 - SharePoint connector associates documents from one list to crawl 
           queue for another list. Connector gets stuck into the loop feeding 
           same documents again and again.

12080286 - Changing default view URL for SharePoint List will result in stale 
           records in index for already traversed content from the list.
           Connector will log old URLs to "default_view_url_changes.txt" file 
           under "excluded-URLs" directory which can be used by GSA 
           administrators to remove stale records from index.

12021726 - Raise the default aclBatchSizeFactor to 10 and improve its use to 
           generate predictable ACL batch size. ACL batching is still disabled 
           by default, but is automatically enabled with flattened ACLs even 
           if fetchACLInBatches is false.

11987705 - ACL web service will partially process Web Application policy when 
           ACL web service fails to resolve principal for policy user.

11987234 - ACL Web service should use default zone for reading IIS settings and 
           resolving windows principals when extended web  application is not 
           available for Connector URL zone.

11897074 - SharePoint connector should not feed documents for a batch when 
           ACL retrieval fails due to an exception on SharePoint.

11846732, 11322738 - SharePoint connector constructs invalid Document IDs and 
           display URLs when Default View URL for list is empty or customized in 
           a non-standard.

11806563 - SharePoint connector should reindex all SharePoint local groups when 
           ACL change token available with connector is expired or invalid.

11748823 - SharePoint connector marks documents as public even if anonymous 
           access is disabled on on IIS web site hosting SharePoint web 
           application.

11257557 - Site Discovery web service always returns Site URLs from default URL 
           zone even if connector is configured to use non-default zone URL.

10935952 - Log excluded URLs at lower log level instead of WARNING level.

8466399  - Connector should not get stuck when it cannot resolve groups.

Version Compatibility
---------------------
This version works with Connector Manager version 3.0.4 and above. Versions
lower than 3.0.4 of the Connector Manager will not work correctly with this
version of the connector. Connectors with version 2.4.0 and above can be
safely upgraded using the steps given below.

This version works with Connector Services for SharePoint 3.2.4. Versions
lower than 3.2.4 of Connector Services for SharePoint will not work
correctly with this version of the connector.

This version works with Active Directory Groups connector 3.2.0 and above.
Versions lower than 3.2.0 of Active Directory Groups connector are not
compatible with version 3.2.4 of SharePoint connector.

ACL inheritance and Deny permission, and crawling user profiles for Expert 
Search works only with GSA 7.0 and higher. All the other connector features work 
with all supported versions of the GSA.

Manually upgrade an existing connector and Connector Services for SharePoint
----------------------------------------------------------------------------
The steps to manually upgrade an existing connector or a Connector Services for 
SharePoint can be found at http://code.google.com/p/google-enterprise-connector-sharepoint/wiki/ManualInstallation.

Platform Support
------------------
The connector can be installed and run on both 32-bit and 64-bit Windows
and Linux environments.

--Microsoft Windows Server 2012
--Microsoft Windows Server 2008 R2
--Microsoft Windows Server 2008
--Microsoft Windows Server 2003
--Red Hat Enterprise Linux 6
--Red Hat Enterprise Linux 5

Note: This release has been tested against blank form templates and sample form templates provided by Microsoft Office InfoPath 2007.


Release 3.2.2, October 23, 2013
===============================

Introduction
------------
This is a maintenance release that improves quality without adding any
new functionality. Users of previous releases are encouraged to
upgrade. Users of previous releases should check the "Version
Compatibility" section below for instructions on how to use existing
data with this new release.

Summary of Changes
------------------
For a summary of the new features, see the Guide to Release 3.0:

http://www.google.com/support/enterprise/static/gsa/docs/admin/connector_30/sharepoint_guide/

Java SE 5.0 is no longer supported. Java 6 or later is required.

SharePoint 2003 and WSS 2.0 are no longer supported. Support added for
SharePoint 2013.

The Google Services for SharePoint (GSS) component has been renamed to
Connector Services for SharePoint in Google Search Appliance.
Some occurrences of the old name may still appear, but refer to the
same component.

This release contains fixes for the following issues:

--Issue 11316430 Index list home page early to allow ACL inheritance chain to be
                 formed for already indexed items from List.

--Issue 11124350 Site collection administrators are not being removed
                 from the user group database when users are no longer site
                 collection administrators on SharePoint.

--Issues 10084052, 9987771 SharePoint connector with "oldLdapBehavior=true"
                 throws a NullPointerException when serving many
                 authentication requests simultaneously.

--Issue 10059644 SharePoint connector does not update ACLs for Site Home Pages
                 and List Item Attachments, and skips sites for ACL change
                 detection in some scenarios when not using inherited ACLs.

--Issue 7898894  Dates coming back from the SharePoint user profile connector
                 are full java representations of calendar objects.

Version Compatibility
---------------------
This version works with Connector Manager version 3.0.4 and above. Versions
lower than 3.0.4 of the Connector Manager will not work correctly with this
version of the connector. Connectors with version 2.4.0 and above can be
safely upgraded using the steps given below.

This version works with Connector Services for SharePoint 3.2.2. Versions
lower than 3.2.2 of Connector Services for SharePoint will not work
correctly with this version of the connector.

This version works with Active Directory Groups Connector 3.2.0 and above.
Versions lower than 3.2.0 of Active Directory Groups Connector are not
compatible with version 3.2.2 of SharePoint Connector.

All authentication mechanisms work with GSA 6.12 and higher. Flex AuthZ support 
in the connector works only with GSA 6.14 and higher. ACL inheritance and Deny
permission, and crawling user profiles for Expert Search work only with GSA
7.0 and higher. All the other connector features will continue to work on
GSA 7.0.14.G.114, 7.0.14.G.84, 6.14.0.G.28, and 6.12.0.G.30.

Manually upgrade an existing connector and Connector Services for SharePoint
----------------------------------------------------------------------------
The steps to manually upgrade an existing connector or a Connector Services for 
SharePoint can be found at http://code.google.com/p/google-enterprise-connector-sharepoint/wiki/ManualInstallation.

Platform Support
------------------
The connector can be installed and run on both 32-bit and 64-bit Windows
and Linux environments.

--Microsoft Windows Server 2008 R2
--Microsoft Windows Server 2008
--Microsoft Windows Server 2003
--Red Hat Enterprise Linux 5

Note: This release has been tested against blank form templates and sample form templates provided by Microsoft Office InfoPath 2007.

GSA Support:
---------------------
This connector version has been certified against 6.14.0.G.28,
and 7.0.14.G.180.


Release 3.2.0, October 11, 2013
===============================

Introduction
------------
This is a minor release with new features. Users of previous releases
are encouraged to upgrade. Users of previous releases should check the
"Version Compatibility" section below for instructions on how to use
existing data with this new release.

Summary of Changes
------------------
For a summary of the new features, see the Guide to Release 3.0:

http://www.google.com/support/enterprise/static/gsa/docs/admin/connector_30/sharepoint_guide/

Java SE 5.0 is no longer supported. Java 6 or later is required.

SharePoint 2003 and WSS 2.0 are no longer supported. Support added for
SharePoint 2013.

The Google Services for SharePoint (GSS) component has been renamed to
Connector Services for SharePoint in Google Search Appliance.
Some occurrences of the old name may still appear, but refer to the
same component.

This release contains fixes for the following issues:

--Issue 11042004 Connector Services for Sharepoint are not correctly
                 disposing of resources in some circumstances.

--Issue 11041811 SharePoint connector versions 3.2.0-M2 and 3.2.0-RC1
                 may not index items inside renamed folders in a list.

--Issue 10969700 SharePoint connector does not feed ACLs for some
                 overflow documents.

--Issue 10898224 SharePoint connector is skipping or partially
                 traversing a list or library when SharePoint returns
                 an error during traversal.

--Issue 10894405 SharePoint connector fails to index documents
                 containing regular expression special characters in
                 the URL.

--Issue 9417474 IIS returns 400 errors when sending too large HTTP headers.

--Issue 9401354 Users in web application policy with claims-based
                mode are not correctly resolved.

--Issue 9366291 AD domain groups were not resolved correctly with Claims
                Authentication. The connector returned SIDs instead of
                group names.

--Issue 8621905 The SharePoint Connector should keep a missing_acl_url log
                for any documents that were fed in without ACLs when the
                "Feed ACLs" option is selected. The logs are written to the
                connector work directory, where the excluded_url logs are
                written.

--Issue 8538403 By sending delete record for unpublished documents,
                connector broke the ACL chain for child items.

--Issue 8467118 Performance issue when renaming SharePoint folders prevents
                the connector from completing traversal.

--Issue 8357746 If the SystemAccount is not available when retrieving ACLs,
                use the current user's token instead.

--Issue 8325341 If site collection administrators group cannot be resolved
                in GetAcl request the connector will get stuck in a loop.

--Issue 8317771 Added a sharepoint:httpstatuscode property to documents
                containing the HTTP response code returned while retrieving
                document content. This can be used with the SkipDocumentFilter
                to skip documents with specific error codes,
                such as 404 or 500.

--Issue 6732717 Add support for SharePoint anonymous content.

--Issue 6553141 The reWriteDisplayUrlUsingAliasMappingRules and
                reWriteRecordUrlUsingAliasMappingRules properties do not
                work in versions 2.8 and above.

--Issue 6395086 SharePoint connector late binding does not work with
                claims-based authentication. The connector only supports
                claims-based authentication with Windows authentication.

Version Compatibility
---------------------
This version works with Connector Manager version 3.0.4 and above. Versions
lower than 3.0.4 of the Connector Manager will not work correctly with this
version of the connector. Connectors with version 2.4.0 and above can be
safely upgraded using the steps given below.

This version works with Connector Services for SharePoint 3.2.0. Versions
lower than 3.2.0 of Connector Services for SharePoint will not work
correctly with this version of the connector.

This version works with Active Directory Groups Connector 3.2.0 and above.
Versions lower than 3.2.0 of Active Directory Groups Connector are not
compatible with version 3.2.0 of SharePoint Connector.

Google strongly recommends reindexing your SharePoint content when
upgrading to 3.0, due to changes in the ACL structures in the connector,
feeds, and GSA index, and corresponding changes in user identity and group
resolution in the authentication mechanisms.

SharePoint local group resolution support with GSA 6.10.4.G.22 is limited
to HTTP Based NTLM and Connector authentication. All authentication
mechanisms work with GSA 6.12 and higher. Flex AuthZ support in the
connector works only with GSA 6.14 and higher. ACL inheritance and Deny
permission, and crawling user profiles for Expert Search work only with GSA
7.0 and higher. All the other connector features will continue to work on
GSA 7.0.14.G.114, 7.0.14.G.84, 6.14.0.G.28, and 6.12.0.G.30.

Manually upgrade an existing connector and Connector Services for SharePoint
----------------------------------------------------------------------------
The steps to manually upgrade an existing connector or a Connector Services for 
SharePoint can be found at http://code.google.com/p/google-enterprise-connector-sharepoint/wiki/ManualInstallation.

Platform Support
------------------
The connector can be installed and run on both 32-bit and 64-bit Windows
and Linux environments.

--Microsoft Windows Server 2008 R2
--Microsoft Windows Server 2008
--Microsoft Windows Server 2003
--Red Hat Enterprise Linux 5

Note: This release has been tested against blank form templates and sample form templates provided by Microsoft Office InfoPath 2007.

GSA Support:
---------------------
This connector version has been certified against 6.12.0.G.30, 6.14.0.G.28,
and 7.0.14.G.114.


Release 3.0.8, May 31, 2013
===========================

Introduction
------------
This is a maintenance release that improves quality without adding any
new functionality. Users of previous releases are encouraged to
upgrade. Users of previous releases should check the "Version
Compatibility" section below for instructions on how to use existing
data with this new release.

Summary of Changes
------------------
For a summary of the new features, see the Guide to Release 3.0:

http://www.google.com/support/enterprise/static/gsa/docs/admin/connector_30/sharepoint_guide/

Java SE 5.0 is no longer supported. Java 6 or later is required.

This release contains fixes for the following issues:

--Issue 9107003 Error parsing extra IDs leads to failure when saving the
                checkpoint, leading to a loop indexing the same documents
                repeatedly.

--Issue 8625891 SharePoint authorization fails on lowercase attachment URLs.

--Issue 8347700 SharePoint Connector should selectively re-initialize
                HttpClient object on 401 response from SharePoint Server.
                Previously, a new HttpClient object was always used, which
                could leave too many open connections to IIS.

--Issue 8347290 SharePoint Connector should explicitly release HTTP
                connections used for downloading document contents.
                Previously, in some IIS configurations this could leave too
                many open connections to IIS.

--Issue 8214369 Overflow documents are indexed without ACLs. In some
                situations, documents could be indexed without ACLs, based
                on the batch size rather than a failure on a specific
                document.

--Issue 6513771 java.io.IOException: Attempted read on closed stream. This
                error could occur if documents were processed twice due to
                errors saving the checkpoint, such as issue 9107003.

Version Compatibility
---------------------
This version works with Connector Manager version 3.0.4 and above. Versions
lower than 3.0.4 of the Connector Manager will not work correctly with this
version of the connector. Connectors with version 2.4.0 and above can be
safely upgraded using the steps given below.

This version works with Google Services for SharePoint 3.0.6. Versions
lower than 3.0.6 of Google Services for SharePoint will not work
correctly with this version of the connector.

Google strongly recommends reindexing your SharePoint content when
upgrading to 3.0, due to changes in the ACL structures in the connector,
feeds, and GSA index, and corresponding changes in user identity and group
resolution in the authentication mechanisms.

SharePoint local group resolution support with GSA 6.10.4.G.22 is limited
to HTTP Based NTLM and Connector authentication. All authentication
mechanisms work with GSA 6.12 and higher. Flex AuthZ support in the
connector works only with GSA 6.14 and higher. ACL inheritance and Deny
permission, and crawling user profiles for Expert Search work only with GSA
7.0 and higher. All the other connector features will continue to work on
GSA 7.0.14.G.114, 7.0.14.G.84, 6.14.0.G.28, and 6.12.0.G.30.

Manually upgrade an existing connector and Google Services for SharePoint
------------------------------------------------------------------------
The steps to manually upgrade an existing connector or a Google Services for SharePoint can be found at http://code.google.com/p/google-enterprise-connector-sharepoint/wiki/ManualInstallation.

Platform Support
------------------
The connector can be installed and run on both 32-bit and 64-bit Windows
and Linux environments.

--Microsoft Windows Server 2008 R2
--Microsoft Windows Server 2008
--Microsoft Windows Server 2003
--Red Hat Enterprise Linux 5

Note: This release has been tested against blank form templates and sample form templates provided by Microsoft Office InfoPath 2007.

GSA Support:
---------------------
This connector version has been certified against 6.12.0.G.30, 6.14.0.G.28,
and 7.0.14.G.114.


Release 3.0.6, March 27, 2013
=============================

Introduction
------------
This is a maintenance release that improves quality without adding any
new functionality. Users of previous releases are encouraged to
upgrade. Users of previous releases should check the "Version
Compatibility" section below for instructions on how to use existing
data with this new release.

Summary of Changes
------------------
For a summary of the new features, see the Guide to Release 3.0:

http://www.google.com/support/enterprise/static/gsa/docs/admin/connector_30/sharepoint_guide/

This release contains fixes for the following issues:

--Issue 7971098 SharePoint connector corrupts HTTP header responses,
                causing the connector version lookup to fail.

--Issue 7922694 After a permission change on a SharePoint list, the
                connector gets stuck in a loop when the number of
                inheriting permission list items is greater than the
                batch size.

--Issue 7899343 SharePoint user profile connector does not perform
                change detection during incremental crawl.

--Issue 7687492 Default SharePoint user profile full traversal
                interval should be one day.

--Issue 7531007 When the alternate access mapping has an entry without
                a fully-qualified hostname, the SharePoint connector
                may send a feed with empty ACLs for lists, causing
                inheritance chains to break.

Version Compatibility
---------------------
This version works with Connector Manager version 3.0.4 and above. Versions
lower than 3.0.4 of the Connector Manager will not work correctly with this
version of the connector. Connectors with version 2.4.0 and above can be
safely upgraded using the steps given below.

This version works with Google Services for SharePoint 3.0.6. Versions
lower than 3.0.6 of Google Services for SharePoint will not work
correctly with this version of the connector.

Google strongly recommends reindexing your SharePoint content when
upgrading to 3.0, due to changes in the ACL structures in the connector,
feeds, and GSA index, and corresponding changes in user identity and group
resolution in the authentication mechanisms.

SharePoint local group resolution support with GSA 6.10.4.G.22 is limited
to HTTP Based NTLM and Connector authentication. All authentication
mechanisms work with GSA 6.12 and higher. Flex AuthZ support in the
connector works only with GSA 6.14 and higher. ACL inheritance and Deny
permission, and crawling user profiles for Expert Search work only with GSA
7.0 and higher. All the other connector features will continue to work on
GSA 7.0.14.G.114, 7.0.14.G.84, 6.14.0.G.28, 6.12.0.G.30, and 6.10.4.G.22.

Manually upgrade an existing connector and Google Services for SharePoint
------------------------------------------------------------------------
The steps to manually upgrade an existing connector or a Google Services for SharePoint can be found at http://code.google.com/p/google-enterprise-connector-sharepoint/wiki/ManualInstallation.

Platform Support
------------------
The connector can be installed and run on both 32-bit and 64-bit Windows and Linux environments.

Certified Against
-------------------
32-bit:
-------
Microsoft Windows Server 2003
Enterprise Edition
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

Red Hat Linux 5 (32-bit)
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

64-bit:
--------
Microsoft Windows Server 2003
Enterprise x64 Edition
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

Note: This release has been tested against blank form templates and sample form templates provided by Microsoft Office InfoPath 2007.

GSA Support:
---------------------
This connector version has been certified against 6.10.4.G.22, 6.12.0.G.30,
6.14.0.G.28, and 7.0.14.G.114.


Release 3.0.4, November 19, 2012
================================

Introduction
------------
This is a maintenance release that improves quality without adding any
new functionality. Users of previous releases are encouraged to
upgrade. Users of previous releases should check the "Version
Compatibility" section below for instructions on how to use existing
data with this new release.

Summary of Changes
------------------
For a summary of the new features, see the Guide to Release 3.0:

http://www.google.com/support/enterprise/static/gsa/docs/admin/connector_30/sharepoint_guide/

This release contains fixes for the following issues:

--Issue 7554816 Support DENY with GSA 7.0 when inherited ACLs are disabled.
                To workaround issue 6969557, Feeding inherited ACLs is
                broken for distributed crawl and serve, you can disable
                inherited ACLs using the feed.disable.inherited.acls
                property in applicationContext.properties. With this
                change, the SharePoint connector will still support DENY
                permissions on the web application policy in that
                configuration.

--Issue 7503627 SharePoint connector generates 400 Bad Request error
                messages in connector logs for linked sites with invalid
                SharePoint URLs.

--Issue 7417617 If a restored folder is deleted again, the connector will
                not send delete feeds for the child items.

--Issue 7417072 SharePoint connector does not send delete feeds for all the
                documents from a deleted folder when the total number of
                documents to be deleted is greater than batch hint.

--Issue 7327268 SharePoint connector does not send delete feeds for moved
                documents in some cases.

--Issue 7261118 SharePoint connector is not indexing older documents inside
                newer folders.

--Issue 7039902 SharePoint connector does not detect user profile delete
                operations.

--Issue 7007575 SharePoint connector feeds user profiles as public
                documents without any ACLs. The connector now sends an ACL
                including the NT AUTHORITY\Authenticated Users group. You
                need to add a separate AD groups connector instance to
                resolve this group. The SharePoint connector will not do
                any group lookup when crawling user profiles.

--Issue 6513826: Add less verbose logging level for MBean messages.

Version Compatibility
---------------------
This version works with Connector Manager version 3.0.4 and above. Versions
lower than 3.0.4 of the Connector Manager will not work correctly with this
version of the connector. Connectors with version 2.4.0 and above can be
safely upgraded using the steps given below.

This version works with Google Services for SharePoint 3.0.0 and above.
Versions lower than 3.0.0 of Google Services for SharePoint will not work
correctly with this version of the connector.

Google strongly recommends reindexing your SharePoint content when
upgrading to 3.0, due to changes in the ACL structures in the connector,
feeds, and GSA index, and corresponding changes in user identity and group
resolution in the authentication mechanisms.

SharePoint local group resolution support with GSA 6.10.4.G.22 is limited
to HTTP Based NTLM and Connector authentication. All authentication
mechanisms work with GSA 6.12 and higher. Flex AuthZ support in the
connector works only with GSA 6.14 and higher. ACL inheritance and Deny
permission, and crawling user profiles for Expert Search work only with GSA
7.0 and higher. All the other connector features will continue to work on
GSA 7.0.14.G.84, 6.14.0.G.28, 6.12.0.G.30, and 6.10.4.G.22.

Manually upgrade an existing connector and Google Services for SharePoint
------------------------------------------------------------------------
The steps to manually upgrade an existing connector or a Google Services for SharePoint can be found at http://code.google.com/p/google-enterprise-connector-sharepoint/wiki/ManualInstallation.

Platform Support
------------------
The connector can be installed and run on both 32-bit and 64-bit Windows and Linux environments.

Certified Against
-------------------
32-bit:
-------
Microsoft Windows Server 2003
Enterprise Edition
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

Red Hat Linux 5 (32-bit)
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

64-bit:
--------
Microsoft Windows Server 2003
Enterprise x64 Edition
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

Note: This release has been tested against blank form templates and sample form templates provided by Microsoft Office InfoPath 2007.

GSA Support:
---------------------
This connector version has been certified against 6.10.4.G.22, 6.12.0.G.30,
6.14.0.G.28, and 7.0.14.G.84.

Known Issues/Limitations
------------------------
1) Issue 59: The following exception occurs intermittently on some machines where the local ports are not released properly after being used.
java.net.BindException: Address already in use: JVM_Bind
Workaround: Stop the connector and restart it after some time to avoid this issue. Also increase the # of available ports as described here:
http://support.microsoft.com/default.aspx?scid=kb;en-us;196271

2) Issue 6514006: Connector configuration is saved for invalid domain name when the authentication scheme for SharePoint site is NTLM and
the credentials used are of a local machine user.

3) In this release, following features are not supported on SharePoint versions prior to SP2007
- Fix for issue#53 (Connector should support SharePoint farm )
- Bulk Authorization by connector
- ACL

4) The "Kerberos KDC Hostname" field on connector configuration page is not localized

5) Issue 6513766: Upgrade HTTPClient library and AXis to newer versions
-- When SharePoint server is slow in serving content, Connector Manager gets java.lang.IOException when pulling content of a
document. One observation is that this exception occurs whenever the
"java.net.SocketException: No buffer space available (maximum connections reached?): JVM_Bind"
occurs as reported in Issue 59

Stacktrace seen in logs:
java.io.IOException: Attempted read on closed stream.
at org.apache.commons.httpclient.AutoCloseInputStream.isReadAllowed(AutoCloseInputStream.java:183)
at org.apache.commons.httpclient.AutoCloseInputStream.read(AutoCloseInputStream.java:107)

Impact: Document content cannot be fetched and hence not indexed whenever this problem is encountered
Possible workaround:
-- Ensure that the SharePoint server is fast enough for serving content
-- Also please see the workaround mentioned in Issue 59

6) Issue 6514004: jcifs classes are not initialized when connector is run on Linux 64-bit environment
-- HttpClient-Modified library makes use of Jcifs for supporting NTLM V2. On Suse Linux 64-bit environment it has been observed that Jcifs classes like Type1Message are not initialized properly and hence connector configuration does not get saved.
7) 5032165: SharePoint connector Alias mapping is not working for default.aspx pages.
8) 5022878: When web-service time-out value is set to null, connector instance dis-appears from the admin console.
9) 5003394: Tool tips on the SharePoint connector configuration UI should give more details for each field.
10) When you remove a connector, it removes only the entries with the namespace URL which it was configured and not for all of it sub sites and so on.


Release 3.0.0, October 17, 2012
===============================

Introduction
------------
This is a major release with new features. Users of previous releases
should check the "Version Compatibility" section below for
instructions on how to use existing data with this new release.

Summary of Changes
------------------
For a summary of the new features, see the Guide to Release 3.0:

http://www.google.com/support/enterprise/static/gsa/docs/admin/connector_30/sharepoint_guide/

This release contains fixes for the following issues:

--Issues 7106972, 7069010 Crawling SharePoint user profiles includes
                duplicates and skips other user profiles.

--Issue 7029190 Crawling SharePoint user profiles does not detect add and
                update operations.

--Issue 6989566 Configuring the SharePoint connector with invalid LDAP
                credentials returns an instantiator error.

--Issue 6902008 SharePoint connector logs a warning,
                "java.lang.IllegalArgumentException: Invalid uri", in each
                crawl cycle for a landing URL with Unicode characters.

--Issue 6874026 SharePoint connector form fields are disabled sometimes
                when "Authorization by ACL" is checked.

--Issue 6873929 SharePoint connector form checkbox does not enable or
                disable all relevant fields.

--Issue 6843364 SharePoint connector fails to resolve any SharePoint local
                groups when "username@domain" is used as the ACE format.

--Issues 6821169, 5677405 SharePoint local group lookup from the user
                datastore is case-sensitive.

--Issue 6767310 SharePoint connector provides wrong display URL for
                contents in a publishing site.

--Issue 6735483 SharePoint connector should re-use HTTP connections.

--Issue 6580594 List setting "Read items that were created by the user"
                should be included when determining permissions.

--Issue 6530382, 6443750 Make "domain\username" the default username format
                for SharePoint connector ACLs.

--Issue 6494321 SharePoint connector should do a full re-sync when
                lastChangeToken is missing.

--Issue 6485375 SharePoint ACLs should be case-insensitive.

--Issue 6479902 Duplicate entries for URL rewrite properties in SharePoint
                advanced properties XML.

--Issue 6396450 Large number of users and groups per document will cause
                web service call in IIS to timeout.

--Issue 6341917 Search Base configuration property must be entered even
                when it is not needed.

--Issue 5963073 SharePoint connector doesn't differentiate between
                commonName, sAMAccountName and user userPrincipalName.

--Issue 5946034 SharePoint connector should correctly resolve nested groups
                across different domains in an Active Directory forest.

--Issue 5941470 SharePoint SOAP response has duplicate attributes

--Issue 5935844 SharePoint connector should support multiple LDAP servers
                for group resolution.

--Issue 5595837 SharePoint connector group resolution should not assume the
                user's and resolved groups' domain name is the same as
                configured in the "Domain" field on the connector
                configuration form.

--Issue 5477838 SharePoint connector should support Claims-Based
                Authentication.

--Issue 5267933 SharePoint connector logs "SAXParseException: Character
                reference &quot;&amp;#30&quot; is an invalid XML
                character".

--Issue 5241871 SharePoint connector logs exception when parsing extraIDs
                and skips these documents.

--Issue 4279410 SharePoint connector should support crawling of SharePoint
                user profiles and feed them to Expert Search on GSA.

Version Compatibility
---------------------
This version works with Connector Manager version 3.0.0 and above. Versions
lower than 3.0.0 of the Connector Manager will not work correctly with this
version of the connector. Connectors with version 2.4.0 and above can be
safely upgraded using the steps given below.

This version works with Google Services for SharePoint 3.0.0 and above.
Versions lower than 3.0.0 of Google Services for SharePoint will not work
correctly with this version of the connector.

Google strongly recommends reindexing your SharePoint content with this
release, due to changes in the ACL structures in the connector, feeds, and
GSA index, and corresponding changes in user identity and group resolution
in the authentication mechanisms.

SharePoint local group resolution support with GSA 6.10.4.G.22 is limited
to HTTP Based NTLM and Connector authentication. All authentication
mechanisms work with GSA 6.12 and higher. Flex AuthZ support in the
connector works only with GSA 6.14 and higher. ACL inheritance and Deny
permission, and crawling user profiles for Expert Search work only with GSA
7.0 and higher. All the other connector features will continue to work on
GSA 7.0.14.G.84, 6.14.0.G.28, 6.12.0.G.30, and 6.10.4.G.22.

Manually upgrade an existing connector and Google Services for SharePoint
------------------------------------------------------------------------
The steps to manually upgrade an existing connector or a Google Services for SharePoint can be found at http://code.google.com/p/google-enterprise-connector-sharepoint/wiki/ManualInstallation.

Platform Support
------------------
The connector can be installed and run on both 32-bit and 64-bit Windows and Linux environments.

Certified Against
-------------------
32-bit:
-------
Microsoft Windows Server 2003
Enterprise Edition
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

Red Hat Linux 5 (32-bit)
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

64-bit:
--------
Microsoft Windows Server 2003
Enterprise x64 Edition
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

Note: This release has been tested against blank form templates and sample form templates provided by Microsoft Office InfoPath 2007.

GSA Support:
---------------------
This connector version has been certified against 6.10.4.G.22, 6.12.0.G.30,
6.14.0.G.28, and 7.0.14.G.84.

Known Issues/Limitations
------------------------
1) Issue 59: The following exception occurs intermittently on some machines where the local ports are not released properly after being used.
java.net.BindException: Address already in use: JVM_Bind
Workaround: Stop the connector and restart it after some time to avoid this issue. Also increase the # of available ports as described here:
http://support.microsoft.com/default.aspx?scid=kb;en-us;196271

2) Issue 70: Connector configuration is saved for invalid domain name when the authentication scheme for SharePoint site is NTLM and
the credentials used are of a local machine user.

3) In this release, following features are not supported on SharePoint versions prior to SP2007
- Fix for issue#53 (Connector should support SharePoint farm )
- Bulk Authorization by connector
- ACL

4) The "Kerberos KDC Hostname" field on connector configuration page is not localized

5) Issue 139: Upgrade HTTPClient library and AXis to newer versions
-- When SharePoint server is slow in serving content, Connector Manager gets java.lang.IOException when pulling content of a
document. One observation is that this exception occurs whenever the
"java.net.SocketException: No buffer space available (maximum connections reached?): JVM_Bind"
occurs as reported in Issue 59

Stacktrace seen in logs:
java.io.IOException: Attempted read on closed stream.
at org.apache.commons.httpclient.AutoCloseInputStream.isReadAllowed(AutoCloseInputStream.java:183)
at org.apache.commons.httpclient.AutoCloseInputStream.read(AutoCloseInputStream.java:107)

Impact: Document content cannot be fetched and hence not indexed whenever this problem is encountered
Possible workaround:
-- Ensure that the SharePoint server is fast enough for serving content
-- Also please see the workaround mentioned in Issue 59

6) Issue 140: jcifs classes are not initialized when connector is run on Linux 64-bit environment
-- HttpClient-Modified library makes use of Jcifs for supporting NTLM V2. On Suse Linux 64-bit environment it has been observed that Jcifs classes like Type1Message are not initialized properly and hence connector configuration does not get saved.
7) 5032165: SharePoint connector Alias mapping is not working for default.aspx pages.
8) 5022878: When web-service time-out value is set to null, connector instance dis-appears from the admin console.
9) 5003394: Tool tips on the SharePoint connector configuration UI should give more details for each field.
10) When you remove a connector, it removes only the entries with the namespace URL which it was configured and not for all of it sub sites and so on.


Release 2.8.8, September 25, 2012
====================================

Introduction
------------
This is a maintenance release that improves quality without adding any
new functionality. Users of previous releases are encouraged to review
the changes below to determine whether to upgrade.

Summary of Changes
------------------
This patch contains fixes for the following issues in the connector:

--Issue 6933666 SharePoint connector user groups membership cache does
                not work when verifiedUserId contains uppercase letter.

--Issue 6363227 SharePoint connector resolves Exchange Distribution
                Groups from AD, which are not valid for assigning
                Permissions in SharePoint, leading to False PERMITs when
                using ACLs.

--Issue 6171941 SharePoint connector setup page has inconsistent
                behavior when the configuration has an error.

--Issue 4597389 SharePoint state file is truncated.

This patch contains fixes for the following issues in the Google
Services for SharePoint:

--Issue 7116426 GetAclForWebApplicationPolicy timeout for deleted users.

--Issue 6663561 Connector stops crawling if Authorization by ACL AND
                SharePoint anonymous access are both enabled.

--Issue 6181689 Authorization by SharePoint connector always returns
                PERMIT at Site level.

--Issue 6057626 Google Services for SharePoint are not correctly
                disposing of resources.

--Issue 5489487 Google Services for SharePoint version should be defined
                explicitly.

Version Compatibility
---------------------
This version works with Connector Manager version 2.8.0 and above.
Connector manager version 2.8.6 is recommended. Versions lower than
2.8.0 of the Connector Manager will not work correctly with this version
of the connector. SharePoint local group resolution support with GSA
6.10.4.G.22 is limited to HTTP Based NTLM and Connector authentication.
All authentication mechanisms work with GSA 6.12 and higher. Flex AuthZ
support in the connector works only with GSA 6.14. All the other
connector features will continue to work on GSA 6.14.0.G.28,
6.12.0.G.30, 6.10.4.G.22, and 6.8.0.G.30. Connectors with version 2.4.0
and above can be safely upgraded using the steps given below.

Manually upgrade an existing connector and Google Services for SharePoint
------------------------------------------------------------------------
The steps to manually upgrade an existing connector or a Google Services for SharePoint can be found at http://code.google.com/p/google-enterprise-connector-sharepoint/wiki/ManualInstallation.

Platform Support
------------------
The connector can be installed and run on both 32-bit and 64-bit Windows and Linux environments.

Certified Against
-------------------
32-bit:
-------
Microsoft Windows Server 2003
Enterprise Edition
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

Red Hat Linux 5 (32-bit)
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

64-bit:
--------
Microsoft Windows Server 2003
Enterprise x64 Edition
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

Note: This release has been tested against blank form templates and sample form templates provided by Microsoft Office InfoPath 2007.

GSA Support:
---------------------
This connector version has been certified against GSA 6.8.0.G.30, 6.10.4.G.22, 6.12.0.G.30 and 6.14.0.G.28.

Known Issues/Limitations
------------------------
1) Issue 59: The following exception occurs intermittently on some machines where the local ports are not released properly after being used.
java.net.BindException: Address already in use: JVM_Bind
Workaround: Stop the connector and restart it after some time to avoid this issue. Also increase the # of available ports as described here:
http://support.microsoft.com/default.aspx?scid=kb;en-us;196271

2) Issue 70: Connector configuration is saved for invalid domain name when the authentication scheme for SharePoint site is NTLM and
the credentials used are of a local machine user.

3) In this release, following features are not supported on SharePoint versions prior to SP2007
- Fix for issue#53 (Connector should support SharePoint farm )
- Bulk Authorization by connector
- ACL

4) The "Kerberos KDC Hostname" field on connector configuration page is not localized

5) Issue 139: Upgrade HTTPClient library and AXis to newer versions
-- When SharePoint server is slow in serving content, Connector Manager gets java.lang.IOException when pulling content of a
document. One observation is that this exception occurs whenever the
"java.net.SocketException: No buffer space available (maximum connections reached?): JVM_Bind"
occurs as reported in Issue 59

Stacktrace seen in logs:
java.io.IOException: Attempted read on closed stream.
at org.apache.commons.httpclient.AutoCloseInputStream.isReadAllowed(AutoCloseInputStream.java:183)
at org.apache.commons.httpclient.AutoCloseInputStream.read(AutoCloseInputStream.java:107)

Impact: Document content cannot be fetched and hence not indexed whenever this problem is encountered
Possible workaround:
-- Ensure that the SharePoint server is fast enough for serving content
-- Also please see the workaround mentioned in Issue 59

6) Issue 140: jcifs classes are not initialized when connector is run on Linux 64-bit environment
-- HttpClient-Modified library makes use of Jcifs for supporting NTLM V2. On Suse Linux 64-bit environment it has been observed that Jcifs classes like Type1Message are not initialized properly and hence connector configuration does not get saved.
7) 5032165: SharePoint connector Alias mapping is not working for default.aspx pages.
8) 5022878: When web-service time-out value is set to null, connector instance dis-appears from the admin console.
9) 5003394: Tool tips on the SharePoint connector configuration UI should give more details for each field.
10) When you remove a connector, it removes only the entries with the namespace URL which it was configured and not for all of it sub sites and so on.

----------------------------------------------------------------------------------------------------------------------

Release 2.8.6, September 24, 2012
====================================

Introduction
------------
This is an upgrade release with some enhancements. Users of previous releases are encouraged to upgrade. Your feedback is important to us.
Keep in mind that we are continuing to work on the Google Search Appliance Connector for SharePoint and things may change in the future.

Summary of Changes / New Features
---------------------------------
This patch contains fix for the following issues.

--Issue 2906154 Cannot add a On-board SharePoint connector with Kerberos KDC host name entry
--Issue 5549668 SharePoint connector should correctly resolve user's primary group
--Issue 5596005 SharePoint connector should correctly resolve the user's special group 'NT AUTHORITY\authenticated users'
--Issue 5883396 Direct user membership of SharePoint groups is not working
--Issue 5923376 SharePoint Connector goes into infinite loop and encounters StackOverflowError resolving groups with the same CN but different DNs
--Issue 5963073 SharePoint connector doesn't differentiate between commonName, sAMAccountName and user userPrincipalName
--Issue 6253811 List items with "ows__ModerationStatus" attribute is always marked as unpublished document and not properly fed.
--Issue 6341529 SharePoint Connector goes into infinite loop and encounters StackOverflowError with cyclically nested groups.

Version Compatibility
---------------------
This version works with Connector Manager Version 2.8.0 and above.
Versions lower than 2.8.0 of the Connector Manager will not work correctly with this version of the connector.
SharePoint local group resolution support with GSA 6.10.4.G.22 is limited to HTTP Based NTLM and Connector authentication. All authentication mechanisms work with GSA 6.12 and higher.
Flex AuthZ support in the connector works only with GSA 6.14.
All the other connector features will continue to work on GSA 6.14.0.G.28, 6.12.0.G.30, 6.10.4.G.22, and 6.8.0.G.30.
Connectors with version 2.4.0 and above can be safely upgraded using the steps given below.

Manually upgrade an existing connector and Google Services for SharePoint
------------------------------------------------------------------------
The steps to manually upgrade an existing connector or a Google Services for SharePoint can be found at http://code.google.com/p/google-enterprise-connector-sharepoint/wiki/ManualInstallation.

Platform Support
------------------
The connector can be installed and run on both 32-bit and 64-bit Windows and Linux environments.

Certified Against
-------------------
32-bit:
-------
Microsoft Windows Server 2003
Enterprise Edition
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

Red Hat Linux 5 (32-bit)
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

64-bit:
--------
Microsoft Windows Server 2003
Enterprise x64 Edition
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

Note: This release has been tested against blank form templates and sample form templates provided by Microsoft Office InfoPath 2007.

GSA Support:
---------------------
This connector version has been certified against GSA 6.8.0.G.30, 6.10.4.G.22, 6.12.0.G.30 and 6.14.0.G.28.

Known Issues/Limitations
------------------------
1) Issue 59: The following exception occurs intermittently on some machines where the local ports are not released properly after being used.
java.net.BindException: Address already in use: JVM_Bind
Workaround: Stop the connector and restart it after some time to avoid this issue. Also increase the # of available ports as described here:
http://support.microsoft.com/default.aspx?scid=kb;en-us;196271

2) Issue 70: Connector configuration is saved for invalid domain name when the authentication scheme for SharePoint site is NTLM and
the credentials used are of a local machine user.

3) In this release, following features are not supported on SharePoint versions prior to SP2007
- Fix for issue#53 (Connector should support SharePoint farm )
- Bulk Authorization by connector
- ACL

4) The "Kerberos KDC Hostname" field on connector configuration page is not localized

5) Issue 139: Upgrade HTTPClient library and AXis to newer versions
-- When SharePoint server is slow in serving content, Connector Manager gets java.lang.IOException when pulling content of a
document. One observation is that this exception occurs whenever the
"java.net.SocketException: No buffer space available (maximum connections reached?): JVM_Bind"
occurs as reported in Issue 59

Stacktrace seen in logs:
java.io.IOException: Attempted read on closed stream.
at org.apache.commons.httpclient.AutoCloseInputStream.isReadAllowed(AutoCloseInputStream.java:183)
at org.apache.commons.httpclient.AutoCloseInputStream.read(AutoCloseInputStream.java:107)

Impact: Document content cannot be fetched and hence not indexed whenever this problem is encountered
Possible workaround:
-- Ensure that the SharePoint server is fast enough for serving content
-- Also please see the workaround mentioned in Issue 59

6) Issue 140: jcifs classes are not initialized when connector is run on Linux 64-bit environment
-- HttpClient-Modified library makes use of Jcifs for supporting NTLM V2. On Suse Linux 64-bit environment it has been observed that Jcifs classes like Type1Message are not initialized properly and hence connector configuration does not get saved.
7) 5032165: SharePoint connector Alias mapping is not working for default.aspx pages.
8) 5022878: When web-service time-out value is set to null, connector instance dis-appears from the admin console.
9) 5003394: Tool tips on the SharePoint connector configuration UI should give more details for each field.
10) When you remove a connector, it removes only the entries with the namespace URL which it was configured and not for all of it sub sites and so on.

----------------------------------------------------------------------------------------------------------------------

Release 2.8.4, March 30, 2012
====================================

Introduction
------------
This is an upgrade release with some enhancements. Users of previous releases are encouraged to upgrade. Your feedback is important to us.
Keep in mind that we are continuing to work on the Google Search Appliance Connector for SharePoint and things may change in the future.

Summary of Changes / New Features
---------------------------------
This patch contains fix for the following issues.

--Issue 5595594 Group resolution fails for special characters in group name.
--Issue 5713953 SharePoint connector sets incorrect display URL for some of the object types.
--Issue 5579962 Changes not detected when a SharePoint folder is moved within the same site.
--Issue 5529449 SharePoint Connector does not exclude meta tag parentwebtitle.
--Issue 5479101 SharePoint connector fails to add group member ship in the user datastore if groupname has more than 40 characters.
--Issue 4672274 SharePoint connector should support all types of Site/list templates for sending ACLs to GSA.
--Issue 4457286 SharePoint connector does not remove database tables when connector instance is deleted.
--Issue 4081238 SharePoint connector not able to send correct MIME type for MS Outlook .msg files.
--Issue 5408782 SharePoint connector fails to traverse a site, circular redirect exception is observed.
--Issue 4903561 SharePoint connector has no validation for the LDAP search base.
--Issue 4902133 SharePoint Connector authN at serve time fails for Chinese username.

Version Compatibility
---------------------
This version works with Connector Manager Version 2.8.0 and above.
Versions lower than 2.8.0 of the Connector Manager will not work correctly with this version of the connector.
SharePoint local group resolution support with GSA 6.10.4.G.22 is limited to HTTP Based NTLM and Connector authentication. All authentication mechanisms work with GSA 6.12 and higher.
Flex AuthZ support in the connector works only with GSA 6.14.
All the other connector features will continue to work on GSA 6.14.0.G.28, 6.12.0.G.30, 6.10.4.G.22, and 6.8.0.G.30.
Connectors with version 2.4.0 and above can be safely upgraded using the steps given below.

Steps to manually upgrade the existing connector
------------------------------------------------
1. Stop the SharePoint Connector Service.
2. Open the directory $CATALINA_HOME/webapps/connector-manager/WEB-INF/lib.
3. Replace the file "connector-sharepoint.jar" with the new jar downloaded from the Code Site.

Note: The External database used for configuring User Data Store must support UTF-8 characters if the user/group names use UTF-8 characters.
4. Start the SharePoint Connector Service.

Note: If you have deployed Google Services on the SharePoint server, you need to upgrade them to 2.8.4 version. Next section gives the complete manual upgrade instructions for Google services for SharePoint.

Steps to manually deploy the Google services for SharePoint
-----------------------------------------------------------

1. Download SharePoint source zip file at the following location. I.e. connector-sharepoint-2.8.2-src.zip
   http://code.google.com/p/google-enterprise-connector-sharepoint/downloads/list
2. Extract the zip file and then go the path <extracted-location>/connector-sharepoint-2.8.2-src/source_net to
   locate the Google services for SharePoint.

Google services for SharePoint which are installed as web service files at the following location of your SharePoint server:

for SharePoint 2007 : C:\Program Files\Common Files\Microsoft Shared\web server extensions\12\ISAPI
for SharePoint 2010 : C:\Program Files\Common Files\Microsoft shared\Web Server Extensions\14\ISAPI

To update bulk authorization web service, replace the following three files:
GSBulkAuthorization.asmx
GSBulkAuthorizationdisco.aspx
GSBulkAuthorizationwsdl.aspx

To update site discovery web service, replace the following three files:
GSSiteDiscovery.asmx
GSSiteDiscoverydisco.aspx
GSSiteDiscoverywsdl.aspx

To update ACL web service, replace the following three files:
GssAcl.asmx
GssAcldisco.aspx
GssAclwsdl.aspx

Platform Support
------------------
The connector can be installed and run on both 32-bit and 64-bit Windows and Linux environments.

Certified Against
-------------------
32-bit:
-------
Microsoft Windows Server 2003
Enterprise Edition
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

Red Hat Linux 5 (32-bit)
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

64-bit:
--------
Microsoft Windows Server 2003
Enterprise x64 Edition
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

Note: This release has been tested against blank form templates and sample form templates provided by Microsoft Office InfoPath 2007.

GSA Support:
---------------------
This connector version has been certified against GSA 6.8.0.G.30, 6.10.4.G.22, 6.12.0.G.30 and 6.14.0.G.28.

Known Issues/Limitations
------------------------
1) Issue 59: The following exception occurs intermittently on some machines where the local ports are not released properly after being used.
java.net.BindException: Address already in use: JVM_Bind
Workaround: Stop the connector and restart it after some time to avoid this issue. Also increase the # of available ports as described here:
http://support.microsoft.com/default.aspx?scid=kb;en-us;196271

2) Issue 70: Connector configuration is saved for invalid domain name when the authentication scheme for SharePoint site is NTLM and
the credentials used are of a local machine user.

3) In this release, following features are not supported on SharePoint versions prior to SP2007
- Fix for issue#53 (Connector should support SharePoint farm )
- Bulk Authorization by connector
- ACL

5) The "Kerberos KDC Hostname" field on connector configuration page is not localized

6) Issue 139: Upgrade HTTPClient library and AXis to newer versions
-- When SharePoint server is slow in serving content, Connector Manager gets java.lang.IOException when pulling content of a
document. One observation is that this exception occurs whenever the
"java.net.SocketException: No buffer space available (maximum connections reached?): JVM_Bind"
occurs as reported in Issue 59

Stacktrace seen in logs:
java.io.IOException: Attempted read on closed stream.
at org.apache.commons.httpclient.AutoCloseInputStream.isReadAllowed(AutoCloseInputStream.java:183)
at org.apache.commons.httpclient.AutoCloseInputStream.read(AutoCloseInputStream.java:107)

Impact: Document content cannot be fetched and hence not indexed whenever this problem is encountered
Possible workaround:
-- Ensure that the SharePoint server is fast enough for serving content
-- Also please see the workaround mentioned in Issue 59

7) Issue 140: jcifs classes are not initialized when connector is run on Linux 64-bit environment
-- HttpClient-Modified library makes use of Jcifs for supporting NTLM V2. On Suse Linux 64-bit environment it has been observed that Jcifs classes like Type1Message are not initialized properly and hence connector configuration does not get saved.
8) 5022878: When web-service time-out value is set to null, connector instance dis-appears from the admin console.
9) 5003394: Tool tips on the SharePoint connector configuration UI should give more details for each field.
10) When you remove a connector, it removes only the entries with the namespace URL which it was configured and not for all of it sub sites and so on.

----------------------------------------------------------------------------------------------------------------------

Release 2.8.2 , September 23, 2011
====================================

Introduction
------------
This is an upgrade release with some enhancements. Users of previous releases are encouraged to upgrade. Your feedback is important to us.
Keep in mind that we are continuing to work on the Google Search Appliance Connector for SharePoint and things may change in the future.

Summary of Changes / New Features
---------------------------------
This patch contains fix for the following issues.

--Issue 5028368: Remove URLs which are Unpublished on the SharePoint server from the index.
--Issue 4968850: SharePoint Connector incorrectly feeds 'read' access per-URL ACL to GSA for Users who have been marked with 'Limited Access' to a Page.
--Issue 4903561: LDAP search base validation for SP connector bug.
--Issue 5157008: Remove "Append Name space to SharePoint group in ACL" from SharePoint connector 2.8 UI.
--Issue 5157207: Re-arrange the UI configuration for SharePoint connector 2.8.
--Mapping correct role types for users and groups while processing ACLs for site landing pages.
--Issue 5149999:SP connector should do AuthN even if no LDAP settings are present.
--Issue 5192167: Document the maximum number of TCP Ports for Windows Machine which host external SharePoint connector.
--Supporting Flex AuthZ (GSA feature) in connector in case of Meta & URL feed mode.

Version Compatibility
---------------------
This version works with Connector Manager Version 2.8.0 and above.
Versions lower than 2.8.0 of the Connector Manager will not work correctly with this version of the connector.
Connectors with version 2.4.0 and above can be safely upgraded using the steps given below.
SharePoint local group resolution support with GSA 6.10.4.G.22 is limited to HTTP Based NTLM and Connector authentication. All authentication mechanisms work with GSA 6.12 and higher.
Flex AuthZ support in the connector works only with GSA 6.14.
All the other connector features will continue to work on 6.14.0.G.28, 6.12.0.G.30, GSA 6.10.4.G.22, and 6.8.0.G.30.

Steps to manually upgrade the existing connector
------------------------------------------------
1. Stop the SharePoint Connector Service.
2. Open the directory $CATALINA_HOME/webapps/connector-manager/WEB-INF/lib.
3. Replace the file "connector-sharepoint.jar" with the new jar downloaded from the Code Site.

Note: The External database used for configuring User Data Store must support UTF-8 characters if the user/group names use UTF-8 characters.
4. Start the SharePoint Connector Service.

Note: If you have deployed Google Services on the SharePoint server, you need to upgrade them to 2.8.2 version. Next section gives the complete manual upgrade instructions for Google services for SharePoint.

Steps to manually deploy the Google services for SharePoint
-----------------------------------------------------------

1. Download SharePoint source zip file at the following location. I.e. connector-sharepoint-2.8.0-src.zip
   http://code.google.com/p/google-enterprise-connector-sharepoint/downloads/list
2. Extract the zip file and then go the path <extracted-location>/connector-sharepoint-2.6.8-src/source_net to
   locate the Google services for SharePoint.

Google services for SharePoint which are installed as web service files at the following location of your SharePoint server:

for SharePoint 2007 : C:\Program Files\Common Files\Microsoft Shared\web server extensions\12\ISAPI
for SharePoint 2010 : C:\Program Files\Common Files\Microsoft shared\Web Server Extensions\14\ISAPI

To update bulk authorization web service, replace the following three files:
GSBulkAuthorization.asmx
GSBulkAuthorizationdisco.aspx
GSBulkAuthorizationwsdl.aspx

To update site discovery web service, replace the following three files:
GSSiteDiscovery.asmx
GSSiteDiscoverydisco.aspx
GSSiteDiscoverywsdl.aspx

To update ACL web service, replace the following three files:
GssAcl.asmx
GssAcldisco.aspx
GssAclwsdl.aspx

Platform Support
------------------
The connector can be installed and run on both 32-bit and 64-bit Windows and Linux environments.

Certified Against
-------------------
32-bit:
-------
Microsoft Windows Server 2003
Enterprise Edition
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

Red Hat Linux 5 (32-bit)
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

64-bit:
--------
Microsoft Windows Server 2003
Enterprise x64 Edition
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

Note: This patch has been tested against blank form templates and sample form templates provided by Microsoft Office InfoPath 2007.

GSA Support:
---------------------
This connector version has been certified against GSA 6.8.0.G.30, 6.10.4.G.22, 6.12.0.G.30 and 6.14.0.G.28.

Known Issues/Limitations
------------------------
1) Issue 59: The following exception occurs intermittently on some machines where the local ports are not released properly after being used.
java.net.BindException: Address already in use: JVM_Bind
Workaround: Stop the connector and restart it after some time to avoid this issue. Also increase the # of available ports as described here:
http://support.microsoft.com/default.aspx?scid=kb;en-us;196271

2) Issue 70: Connector configuration is saved for invalid domain name when the authentication scheme for SharePoint site is NTLM and
the credentials used are of a local machine user.

4) In this release, following features are not supported on SharePoint versions prior to SP2007
- Fix for issue#53 (Connector should support SharePoint farm )
- Bulk Authorization by connector
- ACL

5) The "Kerberos KDC Hostname" field on connector configuration page is not localized

6) Issue 139: Upgrade HTTPClient library and AXis to newer versions
-- When SharePoint server is slow in serving content, Connector Manager gets java.lang.IOException when pulling content of a
document. One observation is that this exception occurs whenever the
"java.net.SocketException: No buffer space available (maximum connections reached?): JVM_Bind"
occurs as reported in Issue 59

Stacktrace seen in logs:
java.io.IOException: Attempted read on closed stream.
at org.apache.commons.httpclient.AutoCloseInputStream.isReadAllowed(AutoCloseInputStream.java:183)
at org.apache.commons.httpclient.AutoCloseInputStream.read(AutoCloseInputStream.java:107)

Impact: Document content cannot be fetched and hence not indexed whenever this problem is encountered
Possible workaround:
-- Ensure that the SharePoint server is fast enough for serving content
-- Also please see the workaround mentioned in Issue 59

7) Issue 140: jcifs classes are not initialized when connector is run on Linux 64-bit environment
-- HttpClient-Modified library makes use of Jcifs for supporting NTLM V2. On Suse Linux 64-bit environment it has been observed that Jcifs classes like Type1Message are not initialized properly and hence connector configuration does not get saved.
8) 4903561: SharePoint connector has no validation for the LDAP search base.
9) 4902133: SharePoint Connector authN at serve time fails for Chinese username.
10) 5022878: When web-service time-out value is set to null, connector instance dis-appears from the admin console.
11) 5003394: Tool tips on the SharePoint connector configuration UI should give more details for each field.

----------------------------------------------------------------------------------------------------------------------

Release 2.8.0 , July 12, 2011
====================================

Introduction
------------
This is an upgrade release with some enhancements. Users of previous releases are encouraged to upgrade. Your feedback is important to us.
Keep in mind that we are continuing to work on the Google Search Appliance Connector for SharePoint and things may change in the future.

Summary of Changes / New Features
---------------------------------
This patch contains fix for the following issues

--Issue 177/3290338: For ACL indexing, add ability to differentiate identical group names in SharePoint, Active Directory, and the local computer.
Description:
There is a discrepancy between the way GSA handles users and groups during ACL based authorization.
This discrepancy is mainly related to the format that GSA uses for usernames and group names while matching them with the entries in ACL.
For username, it uses just the username (without domain). But, for groups it uses domain\groupname. This, in turn, is because of the fact that
while constructing the Primary Verified Identity, GSA strips off domain from username but it does not do the same with group names that are returned in response to a user group resolution query. The cookie cracker always returns the user or group name in the format domain\username or domain\groupname.

Owing to the above explanation, the policy ACL authorization works only when usernames in ACEs are in the format <username> and group names are
in <domain\groupname>. In the earlier versions, the SharePoint connector used a single format for both user names and group names.
Now it can be configured to send user/group names either with or without domains. But, there is no way to distinguish the format
for the two.

--Issue 3403786: SharePoint sites default.aspx page is not crawled by the connector.

--Issue 4415189: Implementation of SPI changes in the SharePoint connector to send groups (SharePoint local groups and LDAP nested groups) during AuthN.
Description: The basic idea is to send groups information for a given search user to resolve as and when needed through GSA query session channel
support. In this release we have addressed the issue and handled different use cases related to connector-manager SPI changes.
1. GSA makes an AuthN request to Connector Manager with valid authentication Identity.
      -If the GSA makes AuthN request to Connector Manager with a valid Authentication Identity, then the Connector Manager will ask connector to supply group
      memberships (LDAP groups + SharePoint groups), implying that the connector should make an attempt to authenticate the user.
2. GSA makes an AuthN request to Connector Manager with valid authentication Identity with out password.
      -If the GSA makes an AuthN request to Connector Manager without a password, then the Connector Manager will ask connector to supply group memberships
      (LDAP groups + SharePoint groups), implying that the connector should not make an attempt to authenticate the user.
3. GSA makes an AuthN request to Connector Manager with valid authentication Identity but connector should return false with null group
memberships if authentication is not successful.

So with the Query session channel support in 6.10 GSA, connector will return AuthenticationResponse with true or false in addition to it the connector will send all search user groups (AD groups + SharePoint groups) to GSA.
This feature will work only with HTTP Based NTLM and Connector authentication in GSA 6.10. It will not work with LDAP, Kerberos and SAML authentication.

--Issue 4380742: The SharePoint connector throws OutOfMemory errors when parsing ACL web service response.
Description: The OutOfMemory are usually caused when the ACLs per document are large, resulting in a very large web service response.
Since it is difficult to recover from java.lang.OutOfMemory errors, there is no way to re-cover and retry of fetching of ACLs
without connector restart is not feasible. Usually, in such cases the JVM needs to be re-started. Hence, the alternative
approach will be to expose flags in connectorInstance.xml to retry in batches which will need to be changed by the connector administrator.
Steps to follow in case of OutOfMemory errors:
1. By default the connector will fetch ACLs for all the documents discovered in a batch traversal.
2. In case of OutOfMemory errors, it will log  SEVERE error message indicating to restart the connector service
3. The administrator will have to stop the connector service, edit the properties in connectorInstance.xml and restart the connector service
  a. Enable a flag to attempt ACL retrieval in batches.
  b. Set appropriate value to a factor used to determine the new batch size. The formula used will be [n/batchSizeFactor] implying
     that instead of retrieving ACL for 'n' documents, the connector will now do it in smaller batches which reduces the original
     value by batchSizeFactor.
Note: The connector administrator will have to arrive at an optimal value for batchSizeFactor based on their deployment.

--Issue 4321636: Investigate and fix the performance problems associated with the ACL web service.
Description: The performance problems associated with ACL web service were mainly caused due to the non-disposal of objects which
consume lot of memory. It was observed that some in-built SharePoint objects were not disposed after their use in the web service code.
In our case, the SPWeb object which corresponds to a SharePoint Web Site was not disposed correctly. Hence, the code for the ACL web service
is modified to dispose these SPWeb objects. To make sure that the web service works properly, after the suggested changes, test
methods are created for the web service to test its behavior.

--Issue 4384079: The SharePoint connector should feed ACLs in the index by default.
Description: In this release feed ACLs option moved to connector configuration page to feed ACLs to search appliance by default.
This option get selected by default when connector administrator configure SharePoint 2.8 version of connector.

--Issue 4348216: The SharePoint connector should continue to crawl all contents of SharePoint server and it should not throw an exception
while inserting user group memberships.
Description: When batchUpdate is called to update user data store table (Oracle) the connector throws an exception and causing the
connector not to proceed further to complete its traversal. In this release, we have handled different exceptions that are thrown by different database drivers.

--Issue 3260602: The SharePoint connector batch authZ should handle site collection URLs correctly.
Description: Authorization fails for the picture library URL found inside a Blog Site.

Version Compatibility
---------------------
This version works with Connector Manager Version 2.8.0 and above.
Versions lower than 2.8.0 of the Connector Manager will not work correctly with this version of the connector.
Connectors with version 2.4.0 and above can be safely upgraded using the steps given below.
SharePoint local group resolution support will work only with HTTP Based NTLM and Connector authentication with GSA 6.10.4.G.22.
All the other connector features will continue to work on GSA 6.12.0.G.30, 6.10.4.G.22 and 6.8.0.G.30.

Steps to manually upgrade the existing connector
------------------------------------------------
1. Stop the SharePoint Connector Service.
2. Upgrade Connector manager to 2.8.0 version.
2. Open the directory $CATALINA_HOME/webapps/connector-manager/WEB-INF/lib.
3. Remove jcifs-1.3.15.jar from lib folder and copy jcifs.jar
4. Replace the file "connector-sharepoint.jar" with the new jar downloaded from the Code Site.
5. Uncomment the below lines from applicationContext.properties file and then specify values for all these properties.
for example in case of MySQL data base:
jdbc.datasource.type=mysql
jdbc.datasource.mysql.url=jdbc:mysql://myserver/google_connectors
jdbc.datasource.mysql.user=<username>
jdbc.datasource.mysql.password=<encrypted password>
Refer connector-manager wiki page http://code.google.com/p/google-enterprise-connector-manager/wiki/EncryptPassword to encrypt password.

Note: The External database used for configuring User Data Store must support UTF-8 characters if the user/group names use UTF-8 characters.

5. Replace $CATALINA_HOME/webapps/connector-manager/WEB-INF/connectors/sharepoint-connector/$CONNECTOR_INSTANCE$/connectorInstance.xml with
the new connectorInstance.xml provided with the build. If you had updated some properties in your older connectorInstance.xml, you'll have to
update them explicitly in the new connectorInstance.xml.
6. Start the SharePoint Connector Service.

Note: If you have deployed Google Services on the SharePoint server, you need to upgrade them to 2.8.0 version. Next section gives the complete manual upgrade instructions for Google services for SharePoint.

Steps to manually deploy the Google services for SharePoint
-----------------------------------------------------------

1. Download SharePoint source zip file at the following location. I.e. connector-sharepoint-2.8.0-src.zip
   http://code.google.com/p/google-enterprise-connector-sharepoint/downloads/list
2. Extract the zip file and then go the path <extracted-location>/connector-sharepoint-2.6.8-src/source_net to
   locate the Google services for SharePoint.

Google services for SharePoint which are installed as web service files at the following location of your SharePoint server:

for SharePoint 2007 : C:\Program Files\Common Files\Microsoft Shared\web server extensions\12\ISAPI
for SharePoint 2010 : C:\Program Files\Common Files\microsoft shared\Web Server Extensions\14\ISAPI

To update bulk authorization web service, replace the following three files:
GSBulkAuthorization.asmx
GSBulkAuthorizationdisco.aspx
GSBulkAuthorizationwsdl.aspx

To update site discovery web service, replace the following three files:
GSSiteDiscovery.asmx
GSSiteDiscoverydisco.aspx
GSSiteDiscoverywsdl.aspx

To update ACL web service, replace the following three files:
GssAcl.asmx
GssAcldisco.aspx
GssAclwsdl.aspx

Platform Support
------------------
The connector can be installed and run on both 32-bit and 64-bit Windows and Linux environments.

Certified Against
-------------------
32-bit:
-------
Microsoft Windows Server 2003
Enterprise Edition
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

Red Hat Linux 5 (32-bit)
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

64-bit:
--------
Microsoft Windows Server 2003
Enterprise x64 Edition
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

Note: This patch has been tested against blank form templates and sample form templates provided by Microsoft Office InfoPath 2007.

GSA Support:
---------------------
This connector version has been certified against GSA 6.8.0.G.30, 6.10.4.G.22, and 6.12.0.G.30.

Known Issues/Limitations
------------------------
1) Issue 59: The following exception occurs intermittently on some machines where the local ports are not released properly after being used.
java.net.BindException: Address already in use: JVM_Bind
Workaround: Stop the connector and restart it after some time to avoid this issue. Also increase the # of available ports as described here:
http://support.microsoft.com/default.aspx?scid=kb;en-us;196271

2) Issue 70: Connector configuration is saved for invalid domain name when the authentication scheme for SharePoint site is NTLM and
the credentials used are of a local machine user.

4) In this release, following features are not supported on SharePoint versions prior to SP2007
- Fix for issue#53 (Connector should support SharePoint farm )
- Bulk Authorization by connector
- ACL

5) SharePoint groups are not resolved in the current ACL support. The implication of this is that all the users who have granted access on documents not directly but through a SharePoint group will not be authorized at search time.
Connector do send the SharePoint groups in the ACLs but these groups are of no use unless they are resolved at serve time. This is planned feature for the next release.

6) The "Kerberos KDC Hostname" field on connector configuration page is not localized

7) Issue 139: Upgrade HTTPClient library and AXis to newer versions
-- When SharePoint server is slow in serving content, Connector Manager gets java.lang.IOException when pulling content of a
document. One observation is that this exception occurs whenever the
"java.net.SocketException: No buffer space available (maximum connections reached?): JVM_Bind"
occurs as reported in Issue 59

Stacktrace seen in logs:
java.io.IOException: Attempted read on closed stream.
at org.apache.commons.httpclient.AutoCloseInputStream.isReadAllowed(AutoCloseInputStream.java:183)
at org.apache.commons.httpclient.AutoCloseInputStream.read(AutoCloseInputStream.java:107)

Impact: Document content cannot be fetched and hence not indexed whenever this problem is encountered
Possible workaround:
-- Ensure that the SharePoint server is fast enough for serving content
-- Also please see the workaround mentioned in Issue 59

8) Issue 140: jcifs classes are not initialized when connector is run on Linux 64-bit environment
-- HttpClient-Modified library makes use of Jcifs for supporting NTLM V2. On Suse Linux 64-bit environment it has been observed that Jcifs classes like Type1Message are not initialized properly and hence connector configuration does not get saved.
9) 4903561: SharePoint connector has no validation for the LDAP search base.
10) 4902133: SharePoint Connector authN at serve time fails for Chinese username.
11) 5022878: When web-service time-out value is set to null, connector instance dis-appears from the admin console.
12) 5003394: Tool tips on the SharePoint connector configuration UI should give more details for each field.

_______________________________________________________________________

Release 2.6.8 , 7 Dec 2010
=======================================

Introduction
------------
This is a patch release for wide evaluation and usage.  Your feedback is important to us.
Keep in mind that we are continuing to work on the Google Search Appliance Connector for SharePoint and things may change in the future.

Summary of Changes / New Features
---------------------------------
This patch contains fix for the following issues

[Issue 3260602] The SharePoint connector batch authZ should handle site collection URLs correctly for authZ grouping of URLs to avoid intermittent indeterminate results

The bug was in the comparator used for grouping documents (to be authorized) according to their parent site collections.
Each site collection is treated as a bucket wherein the documents belonging to that site collection are stored and set for authorization.
The bug, in certain use cases, causes document URLs being put in wrong bucket which leads to authZ failures.

[Issue 3260584] Allow alias mapping to be applied over record URL along with displayURL

Added following boolean properties in connectorInstance.xml to give users option to choose whether record URL and/or display URl be re-written using
alias mapping rules specified on connector configuration page:
<!-- Applicable for both Metadata-and-URL and content feed. If set to true, the document display URL (shown to the search users) will be re-written using alias mapping rule specified on connector configuration page. -->
<!-- <property name="reWriteDisplayUrlUsingAliasMappingRules"><value>true</value></property> -->

<!-- Applicable only for Metadata-and-URL feed. If set to true, the document record URL will also be re-written using alias mapping rule specified on connector configuration page. -->
<!-- <property name="reWriteRecordUrlUsingAliasMappingRules"><value>false</value></property> -->

Version Compatibility
---------------------
This version works with Connector Manager Version 2.4.0 and above.
It is recommended to upgrade to the latest Connector Manager version which is 2.6.0
Versions lower than 2.4.0 of the Connector Manager will not work correctly with this version of the connector.

Connectors with version 2.4.0 and above can be safely upgraded using the steps given below.

Steps to manually deploy the patch release
------------------------------------------
1. Stop the SharePoint Connector Service.
2. Open the directory $CATALINA_HOME/webapps/connector-manager/WEB-INF/lib.
3. Replace the file "connector-sharepoint.jar" with the new jar downloaded from the Code Site.
4. Replace $CATALINA_HOME/webapps/connector-manager/WEB-INF/connectors/sharepoint-connector/$CONNECTOR_INSTANCE$/connectorInstance.xml with
the new connectorInstance.xml provided with the build. If you had updated some properties in your older connectorInstance.xml, you'll have to
update them explicitly in the new connectorInstance.xml.
5. Start the SharePoint Connector Service.

Note: If you have deployed Google Services on SharePoint server, also update the same. Next section gives the complete manual upgrade instruction for all services.
Also, to have an optimal authorization performance, it is recommended to install/update the site discovery service along with bulk authorization service..

Steps to manually deploy the Google services for SharePoint
-----------------------------------------------------------
Google services for SharePoint which are installed as web service files at the following location of your SharePoint server:
C:\Program Files\Common Files\Microsoft Shared\web server extensions\12\ISAPI

To update bulk authorization web service, update the following three files:
GSBulkAuthorization.asmx
GSBulkAuthorizationdisco.aspx
GSBulkAuthorizationwsdl.aspx

To update site discovery web service, update the following three files:
GSSiteDiscovery.asmx
GSSiteDiscoverydisco.aspx
GSSiteDiscoverywsdl.aspx

To update ACL web service, update the following three files:
GssAcl.asmx
GssAcldisco.aspx
GssAclwsdl.aspx

Platform Support
------------------
The connector can be installed and run on both 32-bit and 64-bit Windows and Linux environments.

Certified Against
-------------------
32-bit:
-------
Microsoft Windows Server 2003
Enterprise Edition
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

Red Hat Linux 5 (32-bit)
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

64-bit:
--------
Microsoft Windows Server 2003
Enterprise x64 Edition
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

Note: This patch has been tested against blank form templates and sample form templates provided by Microsoft Office InfoPath 2007.

Known Issues/Limitations
------------------------
1) Issue 59: The following exception occurs intermittently on some machines where the local ports are not released properly after being used.
java.net.BindException: Address already in use: JVM_Bind
Workaround: Stop the connector and restart it after some time to avoid this issue. Also increase the # of available ports as described here:
http://support.microsoft.com/default.aspx?scid=kb;en-us;196271

2) Issue 70: Connector configuration is saved for invalid domain name when the authentication scheme for SharePoint site is NTLM and
the credentials used are of a local machine user.

4) In this release, following features are not supported on SharePoint versions prior to SP2007
- Fix for issue#53 (Connector should support SharePoint farm )
- Bulk Authorization by connector
- ACL

5) SharePoint groups are not resolved in the current ACL support. The implication of this is that all the users who have granted access on documents not directly but through a SharePoint group will not be authorized at search time.
Connector do send the SharePoint groups in the ACLs but these groups are of no use unless they are resolved at serve time. This is planned feature for the next release.

6) The "Kerberos KDC Hostname" field on connector configuration page is not localized

7) Issue 139: Upgrade HTTPClient library and AXis to newer versions
-- When SharePoint server is slow in serving content, Connector Manager gets java.lang.IOException when pulling content of a
document. One observation is that this exception occurs whenever the
"java.net.SocketException: No buffer space available (maximum connections reached?): JVM_Bind"
occurs as reported in Issue 59

Stacktrace seen in logs:
java.io.IOException: Attempted read on closed stream.
at org.apache.commons.httpclient.AutoCloseInputStream.isReadAllowed(AutoCloseInputStream.java:183)
at org.apache.commons.httpclient.AutoCloseInputStream.read(AutoCloseInputStream.java:107)

Impact: Document content cannot be fetched and hence not indexed whenever this problem is encountered
Possible workaround:
-- Ensure that the SharePoint server is fast enough for serving content
-- Also please see the workaround mentioned in Issue 59

8) Issue 140: jcifs classes are not initialized when connector is run on Linux 64-bit environment
-- HttpClient-Modified library makes use of Jcifs for supporting NTLM V2. On Suse Linux 64-bit environment it has been observed that Jcifs classes like
Type1Message are not initialized properly and hence connector configuration does not gets saved.

_______________________________________________________________________


Release 2.6.6 , 18 Nov, 2010
=======================================

Introduction
------------
This is a patch release for wide evaluation and usage.  Your feedback is important to us.
Keep in mind that we are continuing to work on the Google Search Appliance Connector for SharePoint and things may change in the future.

Summary of Changes / New Features
---------------------------------
This patch contains fix for the following issues

Issue 174: Handle folder rename/restore cases more judiciously
Fixed a bug wherein connector was getting stuck in one particular case of folder rename/restore

Issue 113: Connector fails to detect changes if there is a huge gap in the activity on the SharePoint Server, goes into an infinite loop
With the current fix, the connector will initiate a full traversal of the site/list Whose change token (persisted in connector state file)
has got expired

This build also have some optimization in the authorization is done at serve time. Documents are now grouped according to their parent site
collection before sending then to the authorization web service installed on SharePoint server. This grouping helps in reusing certain
SharePoint objects that were earlier created and destroyed for every individual documents.

Version Compatibility
---------------------
This version works with Connector Manager Version 2.4.0 and above.
It is recommended to upgrade to the latest Connector Manager version which is 2.6.0
Versions lower than 2.4.0 of the Connector Manager will not work correctly with this version of the connector.

Connectors with version 2.4.0 and above can be safely upgraded using the steps given below.

Steps to manually deploy the patch release
------------------------------------------
1. Stop the SharePoint Connector Service.
2. Open the directory $CATALINA_HOME/webapps/connector-manager/WEB-INF/lib.
3. Replace the file "connector-sharepoint.jar" with the new jar downloaded from the Code Site.
4. Start the SharePoint Connector Service.

Note: You also need to update the bulk authorization web service. Next section gives the complete manual upgrade instruction for all services.
Also, to have an optimal authorization performance, it is recommended to install/update the site discovery service as well.

Steps to manually deploy the Google services for SharePoint
-----------------------------------------------------------
Google services for SharePoint which are installed as web service files at the following location of your SharePoint server:
C:\Program Files\Common Files\Microsoft Shared\web server extensions\12\ISAPI

To update bulk authorization web service, update the following three files:
GSBulkAuthorization.asmx
GSBulkAuthorizationdisco.aspx
GSBulkAuthorizationwsdl.aspx

To update site discovery web service, update the following three files:
GSSiteDiscovery.asmx
GSSiteDiscoverydisco.aspx
GSSiteDiscoverywsdl.aspx

To update ACL web service, update the following three files:
GssAcl.asmx
GssAcldisco.aspx
GssAclwsdl.aspx

Platform Support
------------------
The connector can be installed and run on both 32-bit and 64-bit Windows and Linux environments.

Certified Against
-------------------
32-bit:
-------
Microsoft Windows Server 2003
Enterprise Edition
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

Red Hat Linux 5 (32-bit)
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

64-bit:
--------
Microsoft Windows Server 2003
Enterprise x64 Edition
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

Note: This patch has been tested against blank form templates and sample form templates provided by Microsoft Office InfoPath 2007.

Known Issues/Limitations
------------------------
1) Issue 59: The following exception occurs intermittently on some machines where the local ports are not released properly after being used.
java.net.BindException: Address already in use: JVM_Bind
Workaround: Stop the connector and restart it after some time to avoid this issue. Also increase the # of available ports as described here:
http://support.microsoft.com/default.aspx?scid=kb;en-us;196271

2) Issue 70: Connector configuration is saved for invalid domain name when the authentication scheme for SharePoint site is NTLM and
the credentials used are of a local machine user.

4) In this release, following features are not supported on SharePoint versions prior to SP2007
- Fix for issue#53 (Connector should support SharePoint farm )
- Bulk Authorization by connector
- ACL

5) SharePoint groups are not resolved in the current ACL support. The implication of this is that all the users who have granted access on documents not directly but through a SharePoint group will not be authorized at search time.
Connector do send the SharePoint groups in the ACLs but these groups are of no use unless they are resolved at serve time. This is planned feature for the next release.

6) The "Kerberos KDC Hostname" field on connector configuration page is not localized

7) Issue 139: Upgrade HTTPClient library and AXis to newer versions
-- When SharePoint server is slow in serving content, Connector Manager gets java.lang.IOException when pulling content of a
document. One observation is that this exception occurs whenever the
"java.net.SocketException: No buffer space available (maximum connections reached?): JVM_Bind"
occurs as reported in Issue 59

Stacktrace seen in logs:
java.io.IOException: Attempted read on closed stream.
at org.apache.commons.httpclient.AutoCloseInputStream.isReadAllowed(AutoCloseInputStream.java:183)
at org.apache.commons.httpclient.AutoCloseInputStream.read(AutoCloseInputStream.java:107)

Impact: Document content cannot be fetched and hence not indexed whenever this problem is encountered
Possible workaround:
-- Ensure that the SharePoint server is fast enough for serving content
-- Also please see the workaround mentioned in Issue 59

8) Issue 140: jcifs classes are not initialized when connector is run on Linux 64-bit environment
-- HttpClient-Modified library makes use of Jcifs for supporting NTLM V2. On Suse Linux 64-bit environment it has been observed that Jcifs classes like
Type1Message are not initialized properly and hence connector configuration does not gets saved.

_______________________________________________________________________

Release 2.6.4 , 16 Sept, 2010
=======================================

Introduction
------------
This is a patch release for wide evaluation and usage.  Your feedback is important to us.
Keep in mind that we are continuing to work on the Google Search Appliance Connector for SharePoint and things may change in the future.

Summary of Changes / New Features
---------------------------------
This patch contains fix for the following issues

Issue 50: Connector does not crawl a SharePoint entity if it contains an invalid XML character in its metadata.
Connector make use of a web service message handler which intercepts the WS response to check if it contains invalid XML characters. If found,
replaces the same with a value that is configured in org.apache.axis.client.client-config.wsdd. In addition, additional patterns can also be provided
in this file that the handler should filter out from WS response.

Handler's filtering feature is not used for every WS call. Rather, connector decides to make use of it only when a WS call fails
abruptly due to parsing error. In such cases, connector makes a second attempt to the WS call requesting handler to do its job.

As stated earlier, all configurations related to handler is stored in client.client-config.wsdd file. Hence, to add/remove filter patterns
You would need to modify this file. Since this file is inside the connector jar, it cannot be modified directly. Following are the steps
you need to execute for the same:
1. Extract client-config.wsdd from connector-sharepoint.jar
2. Do the required changes
3. Put the updated client-config.wsdd under $CATALINA_HOME/webapps/connector-manager/WEB-INF/classes
4. Restart the connector

issue 166: The Alias mapping is not working as expected for List items and Documents
This was a bug in 2.6.2 that was causing alias mapping to fail for list items and documents. This has been resolved in the current 2.6.4 build.

Version Compatibility
---------------------
This version works with Connector Manager Version 2.4.0 and above.
It is recommended to upgrade to the latest Connector Manager version which is 2.6.0
Versions lower than 2.4.0 of the Connector Manager will not work correctly with this version of the connector.

Connectors with version 2.4.0 and above can be safely upgraded using the steps given below.

Steps to manually deploy the patch release
------------------------------------------
1. Stop the SharePoint Connector Service.
2. Open the directory $CATALINA_HOME/webapps/connector-manager/WEB-INF/lib.
3. Replace the file "connector-sharepoint.jar" with the new jar downloaded from the Code Site.
4. Start the SharePoint Connector Service.

Platform Support
------------------
The connector can be installed and run on both 32-bit and 64-bit Windows and Linux environments.

Certified Against
-------------------
32-bit:
-------
Microsoft Windows Server 2003
Enterprise Edition
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

Red Hat Linux 5 (32-bit)
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

64-bit:
--------
Microsoft Windows Server 2003
Enterprise x64 Edition
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

Note: This patch has been tested against blank form templates and sample form templates provided by Microsoft Office InfoPath 2007.

Known Issues/Limitations
------------------------
1) Issue 59: The following exception occurs intermittently on some machines where the local ports are not released properly after being used.
java.net.BindException: Address already in use: JVM_Bind
Workaround: Stop the connector and restart it after some time to avoid this issue. Also increase the # of available ports as described here:
http://support.microsoft.com/default.aspx?scid=kb;en-us;196271

2) Issue 70: Connector configuration is saved for invalid domain name when the authentication scheme for SharePoint site is NTLM and
the credentials used are of a local machine user.

3) Issue 113: Connector fails to detect changes if there is a huge gap in the activity on the SharePoint Server, goes into an infinite loop
-- This is the case when the SharePoint's Change log is reset OR the change tokens maintained by connector are no longer maintained
by SharePoint's Change log. In such cases the connector logs as WARNING message. The connector will have to be reset and crawl
and index all content once more
Workaround: Re-crawl all content by resetting the connector

4) In this release, following features are not supported on SharePoint versions prior to SP2007
- Fix for issue#53 (Connector should support SharePoint farm )
- Bulk Authorization by connector
- ACL

5) SharePoint groups are not resolved in the current ACL support. The implication of this is that all the users who have granted access on documents not directly but through a SharePoint group will not be authorized at search time.
Connector do send the SharePoint groups in the ACLs but these groups are of no use unless they are resolved at serve time. This is planned feature for the next release.

6) The "Kerberos KDC Hostname" field on connector configuration page is not localized

7) Issue 139: Upgrade HTTPClient library and AXis to newer versions
-- When SharePoint server is slow in serving content, Connector Manager gets java.lang.IOException when pulling content of a
document. One observation is that this exception occurs whenever the
"java.net.SocketException: No buffer space available (maximum connections reached?): JVM_Bind"
occurs as reported in Issue 59

Stacktrace seen in logs:
java.io.IOException: Attempted read on closed stream.
at org.apache.commons.httpclient.AutoCloseInputStream.isReadAllowed(AutoCloseInputStream.java:183)
at org.apache.commons.httpclient.AutoCloseInputStream.read(AutoCloseInputStream.java:107)

Impact: Document content cannot be fetched and hence not indexed whenever this problem is encountered
Possible workaround:
-- Ensure that the SharePoint server is fast enough for serving content
-- Also please see the workaround mentioned in Issue 59

8) Issue 140: jcifs classes are not initialized when connector is run on Linux 64-bit environment
-- HttpClient-Modified library makes use of Jcifs for supporting NTLM V2. On Suse Linux 64-bit environment it has been observed that Jcifs classes like
Type1Message are not initialized properly and hence connector configuration does not gets saved.

_______________________________________________________________________

Release 2.6.2 , 9 Aug, 2010
=======================================

Introduction
------------
This is a patch release for wide evaluation and usage.  Your feedback is important to us.
Keep in mind that we are continuing to work on the Google Search Appliance Connector for SharePoint and things may change in the future.

Summary of Changes / New Features
---------------------------------
- Support for crawling InfoPath forms
Connector appends "?NoRedorect=true" in the display URLs of the InfoPath forms. By doing this, all the javascript processing (required for
displaying InfoPath forms in HTML) is bypassed and connector directly gets the XML content.

Version Compatibility
---------------------
This version works with Connector Manager Version 2.4.0 and above.
It is recommended to upgrade to the latest Connector Manager version which is 2.6.0
Versions lower than 2.4.0 of the Connector Manager will not work correctly with this version of the connector.

Connectors with version 2.4.0 and above can be safely upgraded using the steps given below.

Steps to manually deploy the patch release
------------------------------------------
1. Stop the SharePoint Connector Service.
2. Open the directory $CATALINA_HOME/webapps/connector-manager/WEB-INF/lib.
3. Replace the file "connector-sharepoint.jar" with the new jar downloaded from the Code Site.
4. Start the SharePoint Connector Service.

Platform Support
------------------
The connector can be installed and run on both 32-bit and 64-bit Windows and Linux environments.

Certified Against
-------------------
32-bit:
-------
Microsoft Windows Server 2003
Enterprise Edition
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

Red Hat Linux 5 (32-bit)
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

64-bit:
--------
Microsoft Windows Server 2003
Enterprise x64 Edition
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

Note: This patch has been tested against blank form templates and sample form templates provided by Microsoft Office InfoPath 2007.

Known Issues/Limitations
------------------------
1) Issue 50: Connector does not crawl a SharePoint entity if it contains an invalid XML character in its metadata.
-- With 2.0 release, the connector used to re-crawl all documents from the SharePoint list which has documents with
invalid XML character in its metadata. From 2.4 release, the connector will not crawl any new documents from the
list unless the document is removed from the SharePoint list OR the metadata is corrected
Workaround:
Remove the problematic document from the SharePoint list OR the remove the invalid characters from metadata

2) Issue 59: The following exception occurs intermittently on some machines where the local ports are not released properly after being used.
java.net.BindException: Address already in use: JVM_Bind
Workaround: Stop the connector and restart it after some time to avoid this issue. Also increase the # of available ports as described here:
http://support.microsoft.com/default.aspx?scid=kb;en-us;196271

3) Issue 70: Connector configuration is saved for invalid domain name when the authentication scheme for SharePoint site is NTLM and
the credentials used are of a local machine user.

4) Issue 113: Connector fails to detect changes if there is a huge gap in the activity on the SharePoint Server, goes into an infinite loop
-- This is the case when the SharePoint's Change log is reset OR the change tokens maintained by connector are no longer maintained
by SharePoint's Change log. In such cases the connector logs as WARNING message. The connector will have to be reset and crawl
and index all content once more
Workaround: Re-crawl all content by resetting the connector

5) In this release, following features are not supported on SharePoint versions prior to SP2007
- Fix for issue#53 (Connector should support SharePoint farm )
- Bulk Authorization by connector
- ACL

6) SharePoint groups are not resolved in the current ACL support. The implication of this is that all the users who have granted access on documents not directly but through a SharePoint group will not be authorized at search time.
Connector do send the SharePoint groups in the ACLs but these groups are of no use unless they are resolved at serve time. This is planned feature for the next release.

7) The "Kerberos KDC Hostname" field on connector configuration page is not localized

8) Issue 139: Upgrade HTTPCLient library and AXis to newer versions
-- When SharePoint server is slow in serving content, Connector Manager gets java.lang.IOException when pulling content of a
document. One observation is that this exception occurs whenever the
"java.net.SocketException: No buffer space available (maximum connections reached?): JVM_Bind"
occurs as reported in Issue 59

Stacktrace seen in logs:
java.io.IOException: Attempted read on closed stream.
at org.apache.commons.httpclient.AutoCloseInputStream.isReadAllowed(AutoCloseInputStream.java:183)
at org.apache.commons.httpclient.AutoCloseInputStream.read(AutoCloseInputStream.java:107)

Impact: Document content cannot be fetched and hence not indexed whenever this problem is encountered
Possible workaround:
-- Ensure that the SharePoint server is fast enough for serving content
-- Also please see the workaround mentioned in Issue 59

9) Issue 140: jcifs classes are not initialized when connector is run on Linux 64-bit environment
-- HttpClient-Modified library makes use of Jcifs for supporting NTLM V2. On Suse Linux 64-bit environment it has been observed that Jcifs classes like
Type1Message are not initialized properly and hence connector configuration does not gets saved.

_______________________________________________________________________

Release 2.6.0 , 22 June, 2010
=======================================

Introduction
------------
This is an upgrade release with some enhancements and bug fixes. Users of previous releases are encouraged to upgrade.
Users of previous releases should check the "Version Compatibility" section below for instructions on how to use existing data with this new release.

Summary of Changes / New Features
---------------------------------
- Added support for ACL. Connector now sends ACL as document metadata along with each document that it feeds to the GSA. It also keep track of any security changes happening on SharePoint which might affect the ACL of entities, the entities are re-crawled and re-fed to GSA in such cases.
Google Services for SharePoint (GSS) are now shipped with one more service specific to ACL. You need to deploy this web service on SharePoint to get the ACl support.
The support for ACL is turned off by default. Following are the steps to turn this feature on:
1. Go to the connector instance directory of the connector for which you want to turn on ACL.
The connector instance directory can be found under $CATALINA_HOME/webapps/connector-manager/WEB-INF/connectors/sharepoint-connector/CONNECTOR
Replace CONNECTOR with the actual name of your connector
2. Open connectorInstance.xml
3. Scroll down to the end until you find the ACL Related flags
4. Uncomment the following
<!--
<property name="pushAcls"><value>false</value></property>
<property name="stripDomainFromAces"><value>true</value></property>
-->
5. Change the value of the pushAcls property (the first flag) to true.
6. Save the updated connectorInstance.xml
7. Restart the connector

After restarting, connector will send document's ACLs as part of the metadata which will be parsed by the GSA and uploaded as Policy ACLs under Serving section of the GSA.
Connector would not make any attempt to send ACLs for the documents that it had crawled before the restart.

Note: For ACL, the minimum required permission is either a "Full Read" at web application level or, the user should be the site collection administrator. The user credential that you use to configure the connector must have either of these two permissions if you are willing to use ACL based authorization of search results.
Note: The current ACL support does not have the handling of SharePoint groups. Please refer to the 6th point under Known Issues/Limitations section.

- Issue 148: The SharePoint connector should support SharePoint 2010
  All the entities which are supported on SharePoint 2007 are now also supported on SharePoint 2010

- Issue 79: Support for include/exclude a site/page in the search results
Connector, during the crawl checks if a site/list search visibility is turned on. If not, it pauses the crawling of that particular site/list. If it is a new site/list, no crawling is done for this.
Note: For this feature, You need to install the custom GSSiteDiscovery web service on every SharePoint front end server where the sites to be crawled are hosted. This web service comes as part of Google Services for SharePoint. The steps for manual installation is same as of the ACL web service with the files being changed. In this case the files to be copied in the ISAPI directory are:
GSSiteDiscovery.asmx
GSSiteDiscoverydisco.aspx
GSSiteDiscoverywsdl.aspx

Version Compatibility
---------------------
This version works with Connector Manager Version 2.4.0 and above. It is recommended to upgrade to Connector Manager 2.4.4
Versions lower than 2.4.0 of the Connector Manager will not work correctly with this version of the connector.

Supported SharePoint versions
-----------------------------
SharePoint 2003
SharePoint 2007
SharePoint 2010

Steps to manually deploy the patch release on 2.4.4
---------------------------------------------------
1. Stop the SharePoint Connector Service.
2. Open the directory $CATALINA_HOME/webapps/connector-manager/WEB-INF/lib.
3. Replace the file "connector-sharepoint.jar" with the new jar downloaded from the Code Site.
4. Start the SharePoint Connector Service.

Steps to manually deploy the ACL web service on SharePoint
----------------------------------------------------------
1. Go to the SharePoint front server which is serving the sites
2. Open the directory C:\Program Files\Common Files\Microsoft Shared\web server extensions\12\ISAPI
3. Copy the following three files under the ISAPI directory opened above
GssAcl.asmx
GssAcldisco.aspx
GssAclwsdl.aspx

Note: In case of a SharePoint farm environment, the web service has to be deployed on all front-end servers which are hosting sites that you want the connector to crawl.

Platform Support
------------------
The connector can be installed and run on both 32-bit and 64-bit Windows and Linux environments.

Certified Against
-------------------
32-bit:
-------
Microsoft Windows Server 2003
Enterprise Edition
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

Red Hat Linux 5 (32-bit)
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

64-bit:
--------
Microsoft Windows Server 2003
Enterprise x64 Edition
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

Known Issues/Limitations
------------------------
1) Issue 50: Connector does not crawl a SharePoint entity if it contains an invalid XML character in its metadata.
-- With 2.0 release, the connector used to re-crawl all documents from the SharePoint list which has documents with
invalid XML character in its metadata. From 2.4 release, the connector will not crawl any new documents from the
list unless the document is removed from the SharePoint list OR the metadata is corrected
Workaround:
Remove the problematic document from the SharePoint list OR the remove the invalid characters from metadata

2) Issue 59: The following exception occurs intermittently on some machines where the local ports are not released properly after being used.
java.net.BindException: Address already in use: JVM_Bind
Workaround: Stop the connector and restart it after some time to avoid this issue. Also increase the # of available ports as described here:
http://support.microsoft.com/default.aspx?scid=kb;en-us;196271

3) Issue 70: Connector configuration is saved for invalid domain name when the authentication scheme for SharePoint site is NTLM and
the credentials used are of a local machine user.

4) Issue 113: Connector fails to detect changes if there is a huge gap in the activity on the SharePoint Server, goes into an infinite loop
-- This is the case when the SharePoint's Change log is reset OR the change tokens maintained by connector are no longer maintained
by SharePoint's Change log. In such cases the connector logs as WARNING message. The connector will have to be reset and crawl
and index all content once more
Workaround: Re-crawl all content by resetting the connector

5) In this release, following features are not supported on SharePoint versions prior to SP2007
- Fix for issue#53 (Connector should support SharePoint farm )
- Bulk Authorization by connector
- ACL

6) SharePoint groups are not resolved in the current ACL support. The implication of this is that all the users who have granted access on documents not directly but through a SharePoint group will not be authorized at search time.
Connector do send the SharePoint groups in the ACLs but these groups are of no use unless they are resolved at serve time. This is planned feature for the next release.

7) The "Kerberos KDC Hostname" field on connector configuration page is not localized

8) Issue 139: Upgrade HTTPCLient library and AXis to newer versions
-- When SharePoint server is slow in serving content, Connector Manager gets java.lang.IOException when pulling content of a
document. One observation is that this exception occurs whenever the
"java.net.SocketException: No buffer space available (maximum connections reached?): JVM_Bind"
occurs as reported in Issue 59

Stacktrace seen in logs:
java.io.IOException: Attempted read on closed stream.
at org.apache.commons.httpclient.AutoCloseInputStream.isReadAllowed(AutoCloseInputStream.java:183)
at org.apache.commons.httpclient.AutoCloseInputStream.read(AutoCloseInputStream.java:107)

Impact: Document content cannot be fetched and hence not indexed whenever this problem is encountered
Possible workaround:
-- Ensure that the SharePoint server is fast enough for serving content
-- Also please see the workaround mentioned in Issue 59

9) Issue 140: jcifs classes are not initialized when connector is run on Linux 64-bit environment
-- HttpClient-Modified library makes use of Jcifs for supporting NTLM V2. On Suse Linux 64-bit environment it has been observed that Jcifs classes like
Type1Message are not initialized properly and hence connector configuration does not gets saved.

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------


Release 2.4.4 , 11 February, 2010
=======================================

Introduction
------------
This is a maintenance release that improves quality, reliability, and performance without adding any new functionality. All users of previous 2.4.0 releases should upgrade to this release.
Users of previous releases should check the "Version Compatibility" section below for instructions on how to use existing data with this new release.

Summary of Changes
------------------

Issues fixed from last release:
---------------------------------
Issue 108 - Connector is unable to traverse the repository upon restart if the state file is very large.
Connector now uses SAX based parsing instead of DOM which will reduce the heap memory consumption.
Issue 132 - Connector stops responding while saving and loading state file.
This is related to issue 108.

Version Compatibility
---------------------
This version works with Connector Manager Version 2.4.0 and above. It is recommended to upgrade to Connector Manager 2.4.4
Versions lower than 2.4.0 of the Connector Manager will not work correctly with this version of the connector.

Platform Support
------------------
The connector can be installed and run on both 32-bit and 64-bit Windows and Linux environments.

Certified Against
-------------------
32-bit:
-------
Microsoft Windows Server 2003
Enterprise Edition
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

Red Hat Linux 5 (32-bit)
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

64-bit:
--------
Microsoft Windows Server 2003
Enterprise x64 Edition
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

Performance Test details:
Performance Test Results for Metadata and URL Feed mode:

Test Environment Details:

OS: Linux 32 bit
Heap Size Settings 256M-1024M (Connector Default)
Nos. of Web State: 9560
Nos. of List State: 56784
Feed Mode: metadata-and-URL

Test Results:

Memory Usage: 36 MB (Average)-63.2MB (Max)
CPU Usage: 3.06% (Average)
Size of State file: 30MB

Observations:
1. Memory consumption is low initially and increases gradually after state file size increases.
2. The traversal rate was set to 500 documents per minute
3. Memory consumption gradually becomes constant at end of the test cycle as no activity on SharePoint sever.
4. During Test cycle, 0.6% of the readings are above 10% of CPU usage, few times CPU usage has also crossed 50% but dropped immediately to normal CPU usage.
5. Average CPU usage is 3%.

Performance Test Results for Content Feed mode:

OS: Windows 2003 Server (64 bit)
Heap Size Settings 256M-1024M (Connector Default)
Nos. of Web State: 6610
Nos. of List State: 14252
Feed Mode: Content

Test Results:
Memory Usage: 120 (Average)-404 MB (Max)
CPU Usage 12% (Average)
Size of State file: 10MB

Observations:
1. Memory utilization range 200-300 MB with a traversal rate of 200 Documents per Minute
2. Memory utilization increase in case of content feed mode as Connector is involved in fetching content from documents.
3. Average CPU usage is 12%, few times CPU usage has also crossed 50 % but dropped immediately to normal CPU usage. There was no constant increase in the CPU Usage.

Known Issues/Limitations
------------------------
1) Issue 50: Connector does not crawl a SharePoint entity if it contains an invalid XML character in its metadata.
-- With 2.0 release, the connector used to re-crawl all documents from the SharePoint list which has documents with
invalid XML character in its metadata. With 2.4 release the connector will not crawl any new documents from the
list unless the document is removed from the SharePoint list OR the metadata is corrected
Workaround:
Remove the problematic document from the SharePoint list OR the remove the invalid characters from metadata

2) Issue 59: The following exception occurs intermittently on some machines where the local ports are not released properly after being used.
java.net.BindException: Address already in use: JVM_Bind
Workaround: Stop the connector and restart it after some time to avoid this issue. Also increase the # of available ports as described here:
http://support.microsoft.com/default.aspx?scid=kb;en-us;196271

3) Issue 70: Connector configuration is saved for invalid domain name when the authentication scheme for SharePoint site is NTLM and
the credentials used are of a local machine user.

4) Issue 113: Connector fails to detect changes if there is a huge gap in the activity on the SharePoint Server, goes into an infinite loop
-- This is the case when the SharePoint's Change log is reset OR the change tokens maintained by connector are no longer maintained
by SharePoint's Change log. In such cases the connector logs as WARNING message. The connector will have to be reset and crawl
and index all content once more
Workaround: Re-crawl all content by resetting the connector

5) In this release, following features are supported only on SharePoint 2007
- Fix for issue#53 (Connector should support SharePoint farm )
- Bulk Authorization by connector

6) The "Kerberos KDC Hostname" field on connector configuration page is not localized

7) Issue 139: Upgrade HTTPCLient library and AXis to newer versions
-- When SharePoint server is slow in serving content, Connector Manager gets java.lang.IOException when pulling content of a
document. One observation is that this exception occurs whenever the
"java.net.SocketException: No buffer space available (maximum connections reached?): JVM_Bind"
occurs as reported in Issue 59

Stacktrace seen in logs:
java.io.IOException: Attempted read on closed stream.
at org.apache.commons.httpclient.AutoCloseInputStream.isReadAllowed(AutoCloseInputStream.java:183)
at org.apache.commons.httpclient.AutoCloseInputStream.read(AutoCloseInputStream.java:107)

Impact: Document content cannot be fetched and hence not indexed whenever this problem is encountered
Possible workaround:
-- Ensure that the SharePoint server is fast enough for serving content
-- Also please see the workaround mentioned in Issue 59

8) Issue 140: jcifs classes are not initialized when connector is run on Linux 64-bit environment
-- HttpClient-Modified library makes use of Jcifs for supporting NTLM V2. On Suse Linux 64-bit environment it has been observed that Jcifs classes like
Type1Message are not initialized properly and hence connector configuration does not gets saved.


-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Release 2.4.0 Build5, 03 December, 2009
=======================================

Introduction
------------
This is an upgrade release with some enhancements and bug fixes. Users of previous releases are encouraged to upgrade.
Users of previous releases should check the "Version Compatibility" section below for instructions on how to use existing data with this new release.

Summary of Changes
------------------
New features:
---------------
1) Support for Kerberos Authentication at crawl time
2) Support for filtering of documents based on mimetype

Issues fixed from last release:
---------------------------------
Issue 74 - Support traversal by Kerberos authentication.
This is a new feature. This will mean that customers can now crawl SharePoint content which is protected by Kerberos.
Earlier, NTLM was being used at crawl time. This will be useful for customers which require Kerberos to be used always.
Issue 85 - The discovery of site collection should be initiated in the first crawl cycle even though no content is crawled.
In case there were no sites/lists under the top level site mentioned as crawl URL, the connector did not initiate the discovery of other sites.
This implied that the connector never initiated a traversal. This is resolved with this fix
Issue 87 - Connector should canonicalize the URLs for child entities before applying include/exclude patterns.
This is required to exclude all ASPX pages from indexing. Earlier this was not possible as the list URLs (which end with ASPX extension)
would get excluded and hence no content was being discovered and fed to GSA. Users can configure the connector exclude all aspx pages
Issue 90 - The time at which connector completes a crawl cycle should be logged in state file.
This is an enhancement to the information logged in state file. It helps to precisely know when did the traversal cycle complete,
when was the site/list queried last time for any updates
Issue 101 - Sending metadata to GSA when doc size > 30M.
GSA rejects any content > 30M. In content feed mode the connector has now added this check so that only metadata and URL are sent without content
This avoids the task of feeding content which will be rejected by GSA eventually.
It also adds support for filtering documents based on mimetype
Issue 102 - Liststate entry is deleted from the connector state without checking if the list is deleted.
The entry for a list was deleted without checking if the SharePoint server was temporarily unavailable or the list was actually deleted. This has been fixed
so that the list entry is removed only if it has been deleted.
Issue 106 - Connector should not remove/delete documents from its queue unless checkPoint() is called.
The documents from crawl queue were deleted before checkpoint is called. Customers will not see any visible impact as this change
is more to be in line with SPI specification unless any exception is encountered when documents are being sent to GSA by Connector Manager
Issue 110 - Connector is not editable when password has ampersand (&) character. Connector configuration page throws XML error.
From 1.3.2 version onwards the connector form is XHTML complaint. As part of this, every feild needs o be XHTML complaint else
it will result in a XML parsing exception. The value of password field has now been XML encoded to be XHTML complaint
Issue 116 - Return batchHint or little more docs from start/resumeTraversal and not 2* batchHint.
Connector Manager now supports accepting more # documents than batchHint per batch traversal. Hence the connector tries to discover
a little more than batchHint rather than 2*batchHint # of documents as done earlier. This will not have any impact on how fast the documents are being
indexed. However, you will find that the connector will now index documents from list1, then list2 and so on. Earlier you would find that
the connector would discover documents from list1, list2 simultaneously as long as the cap of (2*batchHint) was not reached.
Issue 118 - All the extra IDs (URLs in case of attachments) which are used during the construction of delete feeds are updated before checkpoint
This was required as part of fix for Issue 106 else, delete feeds for few attachments was not being sent earlier.
Issue 120 - Use file level custom logging instead of event-log based logging
The logging of custom web services (GSS) was done to the event viewer. Now it is logged in the main connector logs under Tomcat/logs folder
Issue 123 - Initial changes on the SharePoint are not tracked if the connector is restarted before the first traversal completes
If the connector was stopped before the first traversal was completed, then few docs from that folder/list were skipped.
This has been fixed now.
Issue 124 - ExtraIDs are un-necessarily updated in-memory in case of Metadata and URL feed mode.
This does not have any visible change for the customers. The extraId is used in content feed only and not not be updated for metadata and URL feed mode

Version Compatibility
---------------------
This version works with Connector Manager version 2.4.0 and above.
Versions lower than 2.4.0 of the Connector Manager will not work correctly with this version of the connector.

Platform Support
------------------
The connector can be installed and run on both 32-bit and 64-bit Windows and Linux environments

Certified Against
-------------------
32-bit:
-------
Microsoft Windows Server 2003
Enterprise Edition
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

Red Hat Linux 5 (32-bit)
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

64-bit:
--------
Microsoft Windows Server 2003
Enterprise x64 Edition
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

SUSE Linux Enterprise Server 11 (x86_64)
Intel(R) Xeon(R) CPU
E5504 @ 2.00GHz, 2.00 GB of RAM

Known Issues/Limitations
------------------------
1) Issue 50: Connector does not crawl a SharePoint entity if it contains an invalid XML character in its metadata.
-- With 2.0 release, the connector used to re-crawl all documents from the SharePoint list which has documents with
invalid XML character in its metadata. With 2.4 release the connector will not crawl any new documents from the
list unless the document is removed from the SharePoint list OR the metadata is corrected
Workaround:
Remove the problematic document from the SharePoint list OR the remove the invalid characters from metadata

2) Issue 59: The following exception occurs intermittently on some machines where the local ports are not released properly after being used.
java.net.BindException: Address already in use: JVM_Bind
Workaround: Stop the connector and restart it after some time to avoid this issue.

3) Issue 70: Connector configuration is saved for invalid domain name when the authentication scheme for SharePoint site is NTLM and
the credentials used are of a local machine user.

4) Issue 108: Connector is unable to traverse the repository upon restart if the state file is very large
-- If the size of the state file is >= 100 MB, then connector fails to load the state file due to insufficient memory. An
OutOfMemory Error is thrown while parsing the state XML.
Workaround:
Increase the memory allocated to tomcat so that enough memory is available for parsing the state XML.
To increase the memory allocated to the connector follow the steps given below:
This change will allocate 2GB (i.e. 2048MB) of memory.
LINUX
======
Open the file: <Connector Installation Path>/<Connector Name>/Tomcat/bin/catalina.sh
Search for: JAVA_OPTS="$JAVA_OPTS -Xms256m -Xmx1024m
Change it to: JAVA_OPTS="$JAVA_OPTS -Xms256m -Xmx2048m

WINDOWS
========
Open the file: <Connector Installation Path>\<Connector Name>\Tomcat\bin\service.bat
Search for (must be towards the end of the file) : --JvmMs 256 --JvmMx 1024
Change it to: --JvmMs 256 --JvmMx 2048

Note: To be able to allocate memory successfully, the system must have at least twice
as much physical memory.

5) Issue 113: Connector fails to detect changes if there is a huge gap in the activity on the SharePoint Server, goes into an infinite loop
-- This is the case when the SharePoint's Change log is reset OR the change tokens maintained by connector are no longer maintained
by SharePoint's Change log. In such cases the connector logs as WARNING message. The connector will have to be reset and crawl
and index all content once more
Workaround: Re-crawl all content by resetting the conenctor

6) In this release, following features are supported only on SharePoint 2007
- Fix for issue#53 (Connector should support SharePoint farm )
- Bulk Authorization by connector

7) The "Kerberos KDC Hostname" field on connector configuration page is not localized

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Release 2.0.2, Sep 02, 2009
==========================

Introduction
------------
This is a maintenance release that improves quality, reliability, and performance without adding any new functionality.
All users of previous 2.0.0 release should upgrade to this release

Summary of Changes
------------------

Issues fixed from last release:
---------------------------------
Issue 102: Liststate entry is deleted from the connector state without checking if the list is deleted

Version Compatibility
---------------------
Connectors created with 2.0.0 version of the connector will work with this version. This version works with Connector Manager version 2.0.0.
Earlier versions of the Connector Manager will not work correctly with this version of the connector.

Known Issues/Limitations
------------------------
1) Issue 50: Connector does not crawl a SharePoint entity if it contains an invalid XML character in its metadata.
2) In this release, following features are supported only on SharePoint 2007
- Fix for issue#53 (Connector should support SharePoint farm )
- Bulk Authorization by connector
3) Issue#70: Connector configuration is saved for invalid domain name when the authentication scheme for SharePoint site is NTLM and the credentials
used are of a local machine user.

STEPS TO DEPLOY THE PATCH RELEASE ON 2.0.0
===========================================
1. Stop the SharePoint Connector Service.
2. Extract the downloaded connector-sharepoint-2.0.2.zip at some location on your machine.
3. Open the directory $CATALINA_HOME/webapps/connector-manager/WEB-INF/lib.
4. Replace the file "connector-sharepoint.jar" with the new jar found in the extracted connector-sharepoint-2.0.2 folder.
If you want to back-up the older jar file, please back-it up to a folder other than the Tomcat folder. Leaving a back-up in the same directory can create issues.
5. Start the SharePoint Connector Service.

Note: $CATALINA_HOME stands for the folder where the connector's Tomcat is deployed. It is usually :
C:\Program Files\GoogleConnectors\<%Installation name%>\Tomcat

-----------------------------------------------------------------------------------------------------------------------------------------------
Release 2.0.0, June 22, 2009
==========================

Introduction
------------
This is a major release with new features. Users of previous releases should check the "Version Compatibility" section below for instructions on how to use existing data with this new release.

Summary of Changes
------------------
New features:
---------------
1) Support for selecting the authorization mode: Google Search Appliance/SAML provider OR by the connector
2) Per site version detection which allows multiple sites of different SharePoint versions to be crawled using a single connector instance
3) Discovering multiple site collection from a SharePoint farm installation
4) Support for various security templates of NTLM V2
5) Improved metadata control and indexing
6) Improved Site Alias Mapping support

Issues fixed from last release:
---------------------------------
Issue 21: Can we combine alias host & port?
Issue 43: Detect SharePoint Server version from Crawl URL
Issue 51: Connector does not validate the URL patterns for MySite URL
Issue 52: Connector accepts crawl URL with repeated slashes
Issue 53: connector should support SharePoint farm
Issue 54: Does the connector configuration UI work in Chrome?
Issue 55: The custom metadata fetched by the connector contains ows_ as its prefix.
Issue 56: Connector accepts username in format user@domain for user when SharePoint site mentioned under crawl URL is a HTTP basic protected site
Issue 63: Connector does not support the various strict Windows security templates that come up with NTLM Version 2.
Issue 64: Log excluded URLs in a separate file
Issue 65: Metadata values not fully-indexed (values originating from the ows_MetaInfo state-bag field)
Issue 67: Error message should be shown to indicate that the prefix is incorrect for includeURLs and excludeURLs
Issue 68: Connector does not detect renamed folders and send feeds for the same
Issue 69: NullPointerException seen in logs when SharePoint version is selected as 2007 and Crawl URL is of SPS 2003 while configuring the connector instance.
Issue 71: The connector configuration form should be XHTML compliant.

Version Compatibility
---------------------
Connectors created with earlier versions of the connector will not work with this version. This version works with Connector Manager version 2.0.0. Earlier versions of the Connector Manager will not work correctly with this version of the connector.

Known Issues/Limitations
------------------------
1) Issue 50: Connector does not crawl a SharePoint entity if it contains an invalid XML character in its metadata.
2) In this release, following features are supported only on SharePoint 2007
- Fix for issue#53 (Connector should support SharePoint farm )
- Bulk Authorization by connector
3) Issue#59: The following exception occurs intermittently on some machines where the local ports are not released properly after being used.
java.net.BindException: Address already in use: JVM_Bind
Workaround: Stop the connector and restart it after some time to avoid this issue.
4) Issue#70: Connector configuration is saved for invalid domain name when the authentication scheme for SharePoint site is NTLM and the credentials used are of a local machine
-----------------------------------------------------------------------------------------------------------------------------------------------
Release 1.3.2, April 10, 2009
=============================

INTRODUCTION
=============
This is a maintenance release that improves quality, reliability, and performance without adding any new functionality. All users of previous 1.3.x releases should upgrade to this release. See the product website for a complete description.

Version compatibility
=============================

This connector release is compatible with Connector Manager v1.3.2 and above. Earlier versions of the Connector Manager will not work correctly with this version of the connector.
It is suggested that customers using SharePoint connector versions 1.0.0 through 1.3.0 and considering upgrading 1.3.2 should do a clean install of Connector Manager v1.3.2 and then install the SharePoint connector v1.3.2. This product is designed to function with Microsoft SharePoint 2003, SharePoint 2007, WSS 2.0, and WSS 3.0.

ISSUES FIXED IN THIS RELEASE:
=============================
- Issue 63: Connector does not support the various strict Windows security templates that come up with NTLM Version 2.
- Issue 71: The connector configuration form should be XHTML compliant. Because of certain JavaScript dependecies introduced in this fix, this connector version will not support Connector Manager versions prior to 1.3.2.

KNOWN ISSUES/LIMITATIONS:
=========================
Issue 51: Connector does not validate MySite against included/excluded URL patterns and connectivity on the connector configuration page.
Issue 52: Crawl URL specified on the connector configuration page is not validated if it contains repeated slashes.
Issue 69: NullPointerException seen in logs when SharePoint version is selected as 2007 and Crawl URL is of SPS 2003 while configuring the connector instance.
Issue 70: Connector configuration is saved for invalid domain name when the authentication scheme is HTTP Basic and the credentials used are of a local machine user.

----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Release 1.2.2, SEPT 10, 2008
=============================

INTRODUCTION
=============
This is a patch release for wide evaluation and usage.
This patch can be deployed on the existing installation of Google Enterprise Connector for Microsoft SharePoint 2003 and Microsoft SharePoint 2007 as per steps mentioned below.
Your feedback is important to us. Keep in mind that we are continuing to work on Google Enterprise Connector 1.2.2 for Microsoft SharePoint 2003 and Microsoft SharePoint 2007 and things may change in the future.

ISSUES FIXED IN THIS RELEASE:
===========================
-Issue#23: Improve the SharePoint connector logging
-Issue#47: Clean up state files on startTraversal
-Issue#48: Send site name as meta data
-Fix for connector to allow crawling of SharePoint List/Library containing large number of items (e.g. more than 2000)

STEPS TO DEPLOY THE PATCH RELEASE ON 1.2.1
=========================================
1. Stop the SharePoint Connector Service.
2. Open the directory $CATALINA_HOME/webapps/connector-manager/WEB-INF/lib.
3. Replace the file "connector-sharepoint.jar" with the new jar downloaded from the Code Site.
4. Delete the SharePoint connector state file (Sharepoint_state.xml) from the directory $CATALINA_HOME/webapps/connector-manager/WEB-INF/connectors/sharepoint-connector/<connector-name>
5. Start the SharePoint Connector Service.
-------------------------------------------------------------------------------------------------------------------------


Release 1.2.1, JULY 2, 2008
=============================

Introduction
------------
This is an early access release for wide evaluation and usage. Your
feedback is important to us. Keep in mind that we are continuing to
work on Google Enterprise Connector for Microsoft SharePoint 2003 and Microsoft SharePoint 2007 1.2.1 and things may change in the future.

ISSUES FIXED IN THIS RELEASE:
=============================
-issue#42: startTraversal does not restart the traversal at the beginning - the connector will start the traversal from the begining when the start traversal is called.
-issue#44: Make "Domain" field optional
-issue#45: Incorrect URL generation when SharePoint web service returns DefaultViewUrl for List as empty
-issue#46: Incorrect URL formation for list items when the List name is changed after creation

KNOWN ISSUES/LIMITATIONS:
=============================
1. There may be inconsistency in crawl behavior when SharePoint List/Library contains a large number of items (e.g. more than 2000)
-------------------------------------------------------------------------------------------------------------------------


Release 1.2.0, MAY 22, 2008
==========================

Introduction
------------
This is a patch release for wide evaluation.
This patch can be deployed on the existing installation of Google Enterprise Connector for Microsoft SharePoint 2003 and Microsoft SharePoint 2007 1.2.0 as per steps mentioned below.
Your feedback is important to us.
Keep in mind that we are continuing to work on Google Enterprise Connector for Microsoft SharePoint 2003 and Microsoft SharePoint 2007 1.2.0 and things may change in the future.

ISSUES FIXED IN THIS RELEASE:
=============================
-issue#40: Out of memory error - When there are a very large number of items in a site, the connector could run out of memory

STEPS TO DEPLOY THE PATCH RELEASE ON 1.1.2/1.1.3
------------------------------------------
1. Stop the SharePoint Connector Service.
2. Open the directory $CATALINA_HOME/webapps/connector-manager/WEB-INF/lib.
3. Replace the file "connector-sharepoint.jar" with the new jar downloaded from the Code Site.
4. Delete the SharePoint connector state file (Sharepoint_state.xml) from the directory $CATALINA_HOME/webapps/connector-manager/WEB-INF/connectors/sharepoint-connector/<connector-name>
5. Start the SharePoint Connector Service.

-------------------------------------------------------------------------------------------------------------------------


Release 1.1.3, APRIL 17, 2008
==========================

Introduction
------------
This is a patch release for wide evaluation.
This patch can be deployed on the existing installation of Google Enterprise Connector for Microsoft SharePoint 2003 and Microsoft SharePoint 2007 1.1.2 as per steps mentioned below.
Your feedback is important to us.
Keep in mind that we are continuing to work on Google Enterprise Connector for Microsoft SharePoint 2003 and Microsoft SharePoint 2007 1.1.3 and things may change in the future.

ISSUES FIXED IN THIS RELEASE:
=============================
-issue#34: Support of JRE 1.5
-issue#37: Connector does not crawl linked sites if the linked sites are on different host

STEPS TO DEPLOY THE PATCH RELEASE ON 1.1.2
------------------------------------------
1. Stop the SharePoint Connector Service.
2. Open the directory $CATALINA_HOME/webapps/connector-manager/WEB-INF/lib.
3. Replace the file "connector-sharepoint.jar" with the new jar downloaded from the Code Site.
4. Start the SharePoint Connector Service.

Note: This release provides support for JRE 1.5 along with JRE 1.4. While using JRE 1.5 the Apache JDK 1.4 Compatibility Package for Apache Tomcat 5.5 should not be installed, however it is still required for JRE 1.4.
If you intend to run the SharePoint connector with JRE 1.5 after deploying the 1.1.3 patch, the files xercesImpl.jar, xml-apis.jar located in the directory $CATALINA_HOME/common/endorsed should be deleted before starting the SharePoint Connector Service.

-------------------------------------------------------------------------------------------------------------------------


Release 1.1.2, MARCH 05, 2008
==========================

Introduction
------------
This is an early access release for wide evaluation and usage. Your
feedback is important to us. Keep in mind that we are continuing to
work on Google Enterprise Connector for Microsoft SharePoint 2003 and Microsoft SharePoint 2007 1.1.2 and things may change in the future.

ISSUES FIXED IN THIS RELEASE:
=============================
-The java regex for include/exclude URL patterns is replaced with GNU regex implementation
-Process linked sites
-Find out dynamically the URL fragments of "lists" in MOSS.
-Connector was unable to process state file and sends same documents in consecutive batches to Connector Manager, when the SharePoint site have had batches of documents with different last modified dates. Fixed this issue.
-Work around Microsoft SharePoint Web service bug subsite greater than 1000

-------------------------------------------------------------------------------------------------------------------------


Release 1.1.1, JAN 08, 2008
==========================

Introduction
------------
This is an early access release for wide evaluation and usage. Your
feedback is important to us. Keep in mind that we are continuing to
work on Google Enterprise Connector for Microsoft SharePoint 2003 and Microsoft SharePoint 2007 1.1.1 and things may change in the future.

ISSUES FIXED IN THIS RELEASE:
=============================
-Root objects (e.g. documentlibrary,wikilibrary,contacts) missing object type value
-Logging level for file handler is set to ALL. Previously it was INFO

-------------------------------------------------------------------------------------------------------------------------


Release 1.1.0, DEC 19, 2007
==========================

Introduction
------------
This is an early access release for wide evaluation and usage. Your
feedback is important to us. Keep in mind that we are continuing to
work on Google Enterprise Connector for Microsoft SharePoint 2003 and Microsoft SharePoint 2007 1.1.0 and things may change in the future.

Summary of Changes
------------------
1. Added support for Microsoft SharePoint 2003. The connector now supports SPS 2003 (SharePoint Portal Server), MOSS 2007 (Microsoft Office SharePoint Server), WSS 2.0 and WSS 3.0 (Windows SharePoint Services).
2. The connector supports following list of entities:
[Microsoft SharePoint 2007]
- Folder - File - Document Library
- Discussion Boards - Site - Web
- Attachment - Links - Wikipage Library
- Tasks - Calendar - Contacts
- Announcements - Issues - Alerts
- Surveys - Custom - Picture Library
- Unknown Document Type - Project Tasks
- Administrative Tasks - Report Library
- Translation Management Library
- Data Connection Library
- Slide Library - Form Library

[Microsoft SharePoint 2003]
- Folder - File - Document Library
- Discussion Boards - Site - Web
- Attachment - Links - Tasks
- Calendar - Contacts
- Announcements - Issues - Events
- Surveys - Custom - Picture Library
- Unknown Document Type - Project Tasks
- Form Library - Alerts
3. Metadata blacklist nand whitelist has been externalized. It is now made available through connectorInstance.xml

ISSUES FIXED IN THIS RELEASE:
=============================
The MySite base URL requires to be specified without FQDN (Fully Qualified Domain Name). e.g. http://website is valid MySite URL. Where as http://website.domain.com wouldnt be crawled.


-------------------------------------------------------------------------------------------------------------------------
Release 1.0.0, OCT 10, 2007
==========================

Introduction
------------
This is an early access release for wide evaluation and usage. Your
feedback is important to us. Keep in mind that we are continuing to
work on Google Enterprise Connector for Microsoft SharePoint 2007 1.0.0 and things may change in the future.

Summary of Changes
------------------
1. The connector supports MOSS 2007 (Microsoft Office SharePoint Server) and WSS 3.0 (Windows SharePoint Services).
2. The connector supports only Metadata and URL based crawl
3. The connector supports only incremental crawl.
4. The connector supports following list of entities:
- Folder - File
- Document Library - Discussion Boards
- Site - Web
- Attachment - Links
5. The connector supports pattern based URL inclusion and exclusion in which user can specify the URL patterns to crawl and the patterns to exclude while crawling SharePoint content repository.
6. The connector supports NTLM and HTTP Basic authentication protected SharePoint repositories.
7. The connector supports crawling Personal sites (or MySites) and personal Links (or MyLinks).
8. The connector supports crawling Linked SharePoint sites.
9. The connector supports aliasing for the SharePoint crawl URL where the SharePoint server may have a different IP/name for the users from external networks and a local IP/name for the internal systems.
10. The connector has a built-in filtering on the selectively retrieving certain metadata attributes.

KNOWN ISSUES/LIMITATIONS IN THIS RELEASE:
=============================
1. The MySite base URL requires to be specified without FQDN (Fully Qualified Domain Name). e.g. http://website is valid MySite URL. Where as http://website.domain.com wouldnt be crawled.
2. The connector does not support multiple aliasing, where each site has a separate frontend server/port. The aliasing is only supported for the main site which is mentioned under Crawl URL (and sub-sites). Aliasing is not supported for MySites and other Linked Sites.

Note: The connector also packages the modified commons-httpclient.jar to give a thorough NTLM support.

Version Compatibility
---------------------
The connector is compatible with Connector Manager version 1.0.2. The connector supports SPS 2003, MOSS 2007, WSS 2.0 and WSS 3.0.
